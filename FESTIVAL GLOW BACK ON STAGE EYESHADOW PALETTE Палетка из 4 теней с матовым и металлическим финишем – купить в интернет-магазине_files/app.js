!function(t){function a(a){for(var i,o,r=a[0],d=a[1],l=a[2],u=0,f=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);for(c&&c(a);f.length;)f.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],i=!0,r=1;r<e.length;r++){var d=e[r];0!==s[d]&&(i=!1)}i&&(n.splice(a--,1),t=o(o.s=e[0]))}return t}var i={},s={0:0},n=[];function o(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)o.d(e,i,function(a){return t[a]}.bind(null,i));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="";var r=window.webpackJsonp=window.webpackJsonp||[],d=r.push.bind(r);r.push=a,r=r.slice();for(var l=0;l<r.length;l++)a(r[l]);var c=d;n.push([30,1]),e()}({26:function(t,a,e){"use strict";function i(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.d(a,"a",(function(){return s}));var s=function(){function t(a){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,t),this.elemWrapper=a,this.elemDay=a.find(".js-elem-day"),this.selectedDay="",this.elemMonth=a.find(".js-elem-month"),this.selectedMonth="",this.elemYear=a.find(".js-elem-year"),this.selectedYear="",this.isLeapYear=!1,this.isDateError=!1,this.errorMsg=""}var a,e,s;return a=t,(e=[{key:"createEventListeners",value:function(){this.elemDay[0].addEventListener("change",this.dayChanged(this)),this.elemMonth[0].addEventListener("change",this.monthChanged(this)),this.elemYear[0].addEventListener("change",this.yearChanged(this))}},{key:"destroy",value:function(){this.elemDay[0].removeEventListener("change",this.dayChanged),this.elemMonth[0].removeEventListener("change",this.monthChanged),this.elemYear[0].removeEventListener("change",this.yearChanged)}},{key:"dayChanged",value:function(t){return function(a){t.selectedDay=+a.target.value,t.checkDayError()}}},{key:"monthChanged",value:function(t){return function(a){t.selectedMonth=+a.target.value,t.checkDayError()}}},{key:"yearChanged",value:function(t){return function(a){t.selectedYear=+a.target.value,""!==t.selectedYear?t.isLeapYear=!(t.selectedYear%4||!(t.selectedYear%100)&&t.selectedYear%400):t.isLeapYear=!1,t.checkDayError()}}},{key:"checkDayError",value:function(){this.isDateError=!1;var t=0===this.selectedDay?"":this.selectedDay,a=0===this.selectedMonth?"":this.selectedMonth,e=0===this.selectedYear?"":this.selectedYear;if(""===t&&""===a&&""===e)return this.isDateError=!1,void this.toggleError();if(""===t||""===a||""===e)return this.isDateError=!0,this.errorMsg="Дата заполненна не полностью",void this.toggleError();switch(a){case 4:case 6:case 9:case 11:t>30&&(this.isDateError=!0);break;case 2:(this.isLeapYear&&t>29||!this.isLeapYear&&t>28)&&(this.isDateError=!0);break;default:this.isDateError=!1}this.errorMsg="Несуществующая дата",this.toggleError()}},{key:"toggleError",value:function(){this.isDateError?(this.elemWrapper.closest("form").addClass("form-error"),this.elemWrapper.children(".error").remove(),this.elemWrapper.append('<label class="error">'+this.errorMsg+"</label>")):(this.elemWrapper.closest("form").removeClass("form-error"),this.elemWrapper.children(".error").remove())}}])&&i(a.prototype,e),s&&i(a,s),t}()},30:function(t,a,e){e(31),t.exports=e(65)},31:function(t,a,e){"use strict";e.r(a),function(t,a){e(1);var i=e(4),s=e.n(i),n=e(18),o=e.n(n),r=e(5),d=e.n(r),l=e(19),c=e.n(l),u=e(20),f=e.n(u),p=e(27),h=e(21),m=e.n(h),v=e(6),g=e.n(v),C=e(22),w=e.n(C),_=e(23),b=e.n(_),y=(e(34),e(35),e(36),e(37),e(38),e(40),e(42),e(43),e(63),e(64),e(26));a.jQuery=t,a.$=t;var k,P,x="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",j="f9145577bad35c7606cbdd84d012ff8ae653bc77";String.prototype.trimEnd||(String.prototype.trimEnd=function(){return this.replace(new RegExp(/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/.source+"$","g"),"")}),t("[data-more-shades]").on("click",(function(){t("[data-more-shades]").toggleClass("closed"),t(".js-shadelist-carousel").toggleClass("collapsed")})),t(window).on("load",(function(){!function(){var a=t(".CarouselReviews__Box section p"),e='<button class="btn-more hide" data-btn-more>Показать больше</button>',i=t(window).width();if(!(null==a?void 0:a.length))return!1;i>959?a.each((function(){if(t(this).height()>121){var a=t(this),i=a.parent();a.addClass("hide"),i.addClass("free"),i.append(e),s(i.find(t("[data-btn-more]"))),setTimeout((function(){n()}),1500)}})):i<959&&setTimeout((function(){a.each((function(){if(t(this).height()>70){var a=t(this),i=a.parent();a.addClass("hide"),i.addClass("free"),i.append(e),s(i.find(t("[data-btn-more]"))),n()}}))}),1500);function s(a){a.on("click",(function(){var a=t(this);a.hasClass("hide")?(a.parent().find("p").removeClass("hide"),a.addClass("show"),a.removeClass("hide"),a.text("Свернуть")):(a.parent().find("p").addClass("hide"),a.addClass("hide"),a.removeClass("show"),a.text("Показать больше"))}))}function n(){t(".Carousel--Reviews button.slick-arrow").on("click",(function(){var a=t(".CarouselReviews__Box section .btn-more"),e=t(".CarouselReviews__Box section p");a.removeClass("show"),a.addClass("hide"),a.text("Показать больше"),e.addClass("hide")}))}}(),t("[data-slick]").each((function(){initSlickSlider(t(this))}))})),window.initSlickSlider=function(a){var e=t.parseJSON(a.attr("data-slick")),i=parseInt(a.attr("data-br"))||0,s=a.attr("data-max-res"),n=a.attr("data-min-res"),o=t(window).width();a.on("init",(function(a,e){t(".js-product-images").each((function(){var a=t(this),e=a.find(".ProductImages__Item"),i=a.find(".slick-dots li");e.each((function(){var a=t(this),e=a.attr("data-img-url"),s=a.parents(".slick-slide").index();i.eq(s).find("button").append('<img src="'+e+'" alt="">')}))}))})),i>0?(s&&o<i&&a.slick(e),n&&o>=i&&a.slick(e)):s?a.hasClass("js-shadelist-carousel")&&o<768&&a.slick(e):(a.on("init",(function(t,e,i,s){a.find(".slick-active").addClass("caption-in")})),a.on("beforeChange",(function(t,e,i,s){a.find(".slick-slide").removeClass("caption-in"),a.find(".slick-slide").eq(s).addClass("caption-in")})),a.slick(e))},t(".Carousel--Reviews").on("init",(function(){t(this).css({visibility:""})})),t(document).ready((function(){s()(),o()();t(".js-product-images").on("afterChange",(function(){b("imageZoom")})),t("body").append('<div data-component="Backdrop" class="GlobalBackdrop" data-boilerplate-active="true"></div>'),window.onload=function(){g.a.setup();window.requestAnimationFrame((function t(){g.a.update(window.scrollY),window.requestAnimationFrame(t)}))},t(".js-megamenu-trigger, .js-megamenu-close").click((function(){var a=t("#megamenu"),e=t("html");t("header").toggleClass("z-index-up"),a.toggleClass("open"),e.toggleClass("menu-open"),a.attr("data-sub-opened","false")})),t("[data-submenu]").click((function(a){var e=t(this),i=t("#megamenu"),s=e.attr("data-submenu"),n=t("[data-subpanel=".concat(s,"]"));i.attr("data-sub-opened","true"),t("[data-subpanel]").attr("visually-hidden","true"),n.removeAttr("visually-hidden"),a.preventDefault()}));var a=t(".js-search-layer"),e=t(".js-search-input"),i=t(".js-search-trigger"),n=t(".js-form-input");function r(e){t("body").addClass("search-open"),t.magnificPopup.open({items:{src:"#popup-search",type:"inline"},alignTop:!0,midClick:!0,closeMarkup:'<button title="%title%" type="button" class="vex-close mfp-close popup__close"></button>',removalDelay:500,overflowY:"hidden",callbacks:{beforeOpen:function(){this.st.mainClass="mfp-zoom-in vex SearchLayer js-search-layer",t("html").addClass("vex-open")},open:function(){a.find(".vex-content").css({top:"143px"}),a.removeAttr("tabindex"),setTimeout((function(){return t("#popup-search .js-search-input").focus()}),100)},close:function(){t("html").removeClass("vex-open"),t("body").removeClass("search-open"),e.focus()}}})}i.on("click",(function(a){a.preventDefault();var e=t(this),i=e.val();e.closest("#popup-search").length>0||(r(t(this)),t.get("/ajax/search.php?ajax_reload=Y&q="+i).done((function(a){t(".js-search-content").html(a)})))}));var l=!1;n.on("submit",(function(a){t(this).find(".js-search-input").val().trim().length<3&&a.preventDefault()})),e.on("input",(function(){l&&(clearTimeout(l),l=!1);var a=t(this),i=a.val(),s=a.closest("#popup-search").length>0;e.val(i),i.length>2?l=setTimeout((function(){t.get("/ajax/search.php?ajax_reload=Y&q="+i).done((function(a){t(".js-search-content").html(a),s||r(t(this))}))}),500):(clearTimeout(l),l=!1)})),t("[data-close-submenu]").click((function(){t("#megamenu").attr("data-sub-opened","false"),t("[data-subpanel]").attr("visually-hidden","true")}));var u=t("[data-popup]");u.each((function(){if("select-time-popup"===u.data("popup"))return!0;initPopup(t(this))})),t(".js-accordion-trigger").click((function(){t(this).parent().toggleClass("is-visible")})),t('[type="tel"]').each((function(){var a=t(this).attr("id"),e=document.querySelector("#"+a);c()(e,{separateDialCode:!0,initialCountry:"ru",onlyCountries:["ru"]})})),t(".CustomSelect select").each((function(){var a=t(this).attr("id"),e=document.querySelector("#"+a);new f.a(e,{classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}})})),t("[data-collapse-handler]").click((function(){var a=t(this),e=a.next();a.toggleClass("not-collapsed"),a.toggleClass("collapsed"),e.slideToggle(300)})),t.validator.addMethod("phone",(function(t){return/\([0-9]{3}\)\s[0-9]{3}-[0-9]{2}-[0-9]{2}/.test(t)}),"Пожалуйста, заполните поле"),t.validator.addMethod("conf_new_password",(function(a){return a==t('input[name="NEW_PASSWORD"]').val()}),"Пароли не совпадают"),t.validator.addMethod("password",(function(t){return/^[A-Za-z0-9\d=!\-@._*]*$/.test(t)&&function(t,a){return t.length>=a}(t,6)&&/\d/.test(t)}),"Пароль должен содержать не менее 6 символов и включать 1 цифру"),t.validator.addMethod("regex",(function(t,a,e){return e.test(t)})),t.validator.addMethod("complete",(function(a,e){return t(e).hasClass("complete")})),t.validator.addMethod("found",(function(a,e){return t(e).hasClass("found")})),t("[data-validate]").each((function(){var a=t(this);if("Y"===a.data("init"))return!0;a.data("init","Y");var e=a.validate({errorElement:"label",errorClass:"error",submitHandler:function(a){var i=t(a),s=i.attr("name"),n=i.attr("action");if("regform"===s){t(a).find('[name="REGISTER[LOGIN]"]').val(t(a).find('[name="REGISTER[EMAIL]"]').val());var o=i.find('[name="birthDateDay"] option:selected').val().trim(),r=i.find('[name="birthMonthDay"] option:selected').val().trim(),d=i.find('[name="birthYearDay"] option:selected').val().trim();return o&&r&&d&&i.find('[name="REGISTER[PERSONAL_BIRTHDAY]"]').val(o+"."+r+"."+d),BX.showWait(),"Y"===i.find('input[name="checkcode"]').val()?(a.submit(),!1):(t.post("/ajax/authcard.php",{sessid:BX.bitrix_sessid(),action:"sendcode",name:i.find('[name="REGISTER[NAME]"]').val(),last_name:i.find('[name="REGISTER[LAST_NAME]"]').val(),phone:"+7 "+i.find('[name="REGISTER[PERSONAL_PHONE]"]').val(),email:i.find('[name="REGISTER[EMAIL]"]').val()},(function(a){if(BX.closeWait(),"ERROR"===a.RESULT)if("spam"!==a.MESSAGE)a.MESSAGE||(a.MESSAGE="К сожалению, произошла ошибка. Повторите попытку позже."),"emailError"===a.TYPE?openModal("duplicateUser"):(t("#errorMessage").find("[data-error-text]").text(a.MESSAGE),openModal("errorMessage"));else{var s={};s["REGISTER["+a.FIELD+"]"]="Зарегистрирована попытка нечестной регистрации",e.showErrors(s)}else{var n=t("#registerCardForm"),o=i.find('[name="REGISTER[PERSONAL_PHONE]"]').val(),r=i.find('[name="REGISTER[EMAIL]"]').val();n.find(".check-phone").html(o),n.find(".check-email").html(r),openModal("registerCard")}}),"json"),!1)}if("register-card"===s)return BX.showWait(),t.ajax({type:"POST",url:n,data:i.serializeArray(),dataType:"json",success:function(a){BX.closeWait();var i={},s=!1;if(a.CHECK.phone||(s=!0,i.phone_code="Неверный код подтверждения"),a.CHECK.email||(s=!0,i.email_code="Неверный код подтверждения"),e.showErrors(i),!s){var n=t('[name="regform"]');n.append('<input type="hidden" name="checkcode" value="Y">'),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"registration",eventLabel:"success"}),n.find('input[name="reg_card_check"]:checked').length&&a.CARD_NUMBER?(t("#registerCardLink").find("[data-card-number]").text("№"+a.CARD_NUMBER),openModal("registerCardLink"),t("#registerCardLink .popup__close").off("click").on("click",(function(){t('[data-component="Backdrop"]').addClass("show"),t('[name="regform"]').submit()}))):(t.magnificPopup.close(),n.submit())}}}),!1;if("register-card-link"===s)return BX.showWait(),t.ajax({type:"POST",url:n,data:i.serializeArray(),dataType:"json",success:function(){BX.closeWait(),t.magnificPopup.close(),t('[name="regform"]').submit()}}),!1;if("ORDER_FORM"===s)return!!checkAddErrors()&&(t("#WRAP_ID_DELIVERY_ID_15").hasClass("active")&&t(".delivery-place-select").hasClass("none")||window.isStartAjaxOrderUpdate||(window.orderProcess=!0,blocksShow(),sendForm()),!1);if("ORDER_CONFIRM"===s){BX.showWait();var l=t("#order_confirm"),c=l.find('form[name="ORDER_CONFIRM"]');return c.find('input[name="action"]').val("check"),l.find("[data-confirm-order-init-success]").show(),l.find("[data-confirm-order-init-error]").hide(),l.find("[data-confirm-order-error-text]").hide(),t.ajax({type:"POST",url:c.attr("action"),data:c.serializeArray(),dataType:"json",success:function(a){BX.closeWait(),"ok"===a.status?(t.magnificPopup.close(),window.orderProcess=!0,blocksShow(),sendForm()):a.message?e.showErrors({code:a.message}):(l.find("[data-confirm-order-init-success]").hide(),l.find("[data-confirm-order-init-error]").show())}}),!1}if("POPUP_REVIEW_FORM"===s){BX.showWait();return t.ajax({url:"/bitrix/services/main/ajax.php?"+t.param({c:"jamilco:reviews",action:"add",mode:"class"},!0),type:"POST",data:i.serializeArray(),dataType:"json",success:function(t){var a=i.closest("#popup-review");"success"===t.status&&t.data.success?(a.find(".Reviews__Write__Message").html(t.data.message).removeClass("hidden"),a.find("#reviewPopupForm").addClass("hidden"),a.find(".Reviews__Write__Close").addClass("hidden")):null!==t.data.errors&&i.closest("#popup-review").find(".Reviews__Write__Message").removeClass("hidden").html(t.data.errors.join("<br>")),BX.closeWait()},error:function(){BX.closeWait()}}),!1}return!1!==i.data("disable-submit")&&a.submit(),!1},invalidHandler:function(a,e){if(e.numberOfInvalids()){var i=t(e.errorList[0].element),s=i.offset().top;"radio"===i.attr("type")?t("html, body").animate({scrollTop:s-79-55},500):t("html, body").animate({scrollTop:s-79-10},500)}a.preventDefault()},rules:{ORDER_PROP_23:{complete:!0,minlength:3},ORDER_PROP_24:{complete:!0,found:!0}},messages:{ORDER_PROP_23:{complete:"Пожалуйста, заполните поле"},ORDER_PROP_24:{complete:"Пожалуйста, заполните поле",found:"Дом не найден - проверьте адрес"}}});a.find("input").bind("keyup blur click",(function(){"ORDER_FORM"===a.attr("id")||"reviewForm"===a.attr("id")||a.hasClass("js-enabled-submit")||(a.validate().checkForm()?a.find("button").prop("disabled",!1):a.find("button").prop("disabled",!0))})),a.find("textarea").bind("keyup blur click",(function(){"ORDER_FORM"===a.attr("id")||"reviewForm"===a.attr("id")||a.hasClass("js-enabled-submit")||(a.validate().checkForm()?a.find("button").prop("disabled",!1):a.find("button").prop("disabled",!0))}))})),t.validator.addClassRules=function(a,e){if(a.constructor===String){var i={};i[a]=e,a=i}t.each(a,(function(a,e){t("."+a).each((function(a,i){t(i).rules("add",e)}))}))},t.validator.addClassRules({"js-valid-name":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z -]+$/,normalizer:function(t){return t.trimEnd()},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-second-name":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z -]+$/,normalizer:function(t){return t.trimEnd()},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-patronymic":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z]+$/,normalizer:function(a){return t.trim(a)},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-phone":{required:!0,phone:!0,messages:{required:"Пожалуйста, заполните поле"}},"js-valid-email":{required:!0,email:!0,normalizer:function(a){return t.trim(a)},messages:{required:"Пожалуйста, заполните поле",email:"Пожалуйста, заполните поле"}},"js-valid-pass":{required:!0,password:!0,messages:{required:"Пожалуйста, заполните поле"}},"js-valid-pass_confirm":{required:!0,equalTo:".js-valid-pass",messages:{equalTo:"Пароли не совпадают"}}}),t("input").on("keyup",(function(){var a=t(this);a.val().length>0?a.closest(".form-group").addClass("floatl--focused"):a.closest(".form-group").removeClass("floatl--focused")})),t("input").on("keyup",(function(){var a=t(this);setTimeout((function(){"cardName"!==a.attr("id")&&"checkCode"!==a.attr("id")&&"promo"!==a.attr("id")?a.val().trim().length>0?a.hasClass("error")?(a.closest(".form-group").removeClass("floatl--active"),a.closest(".form-group").addClass("floatl--focused")):(a.closest(".form-group").addClass("floatl--active"),a.closest(".form-group").removeClass("floatl--focused")):(a.closest(".form-group").removeClass("floatl--active"),a.closest(".form-group").removeClass("floatl--focused")):a.val().trim().length>0?(a.closest(".form-group").addClass("floatl--focused"),a.closest(".form-group").removeClass("floatl--active")):(a.closest(".form-group").removeClass("floatl--focused"),a.closest(".form-group").removeClass("floatl--active"))}),100)})),t(document).keypress((function(a){var e=t(a.target);e.hasClass("error")||13==a.keyCode&&(e.hasClass("form-control")||e.hasClass("floatl__input"))&&(e.closest(".form-group").next().find("input").focus(),a.preventDefault())}));var h,v=document.querySelectorAll("input[type=tel]");function C(t,a){t.is(a.target)||0!==t.has(a.target).length||(t.removeClass("active"),t.attr("aria-expanded",!1))}d()({mask:"(999) 999[-99][-99]",clearMaskOnLostFocus:!0,placeholder:"",showMaskOnHover:!1,showMaskOnFocus:!0,greedy:!1}).mask(v),d()({alias:"datetime",inputFormat:"dd.mm.yyyy"}).mask(document.querySelectorAll("input[data-date=Y]")),Object(p.a)("[data-tippy-content]",{allowHTML:!0,animateFill:!0,animation:"shift-away",aria:"describedby",arrow:!1,duration:[325,275],followCursor:!1,hideOnClick:!0,inertia:!0,maxWidth:350,placement:"top",role:"tooltip",showOnCreate:!1,sticky:!1,theme:"dark",touch:!0,trigger:"mouseenter focus",triggerTarget:null,zIndex:9999}),t(document).on("click","[aria-pressed]",(function(){!function(a,e){var i=a.closest("[data-target]"),s=a.closest('[data-component="ProductBox"]'),n=a.attr("data-secondary-image"),o=a.attr("data-main-image"),r=a.attr("data-variant-url"),d=a.attr("data-index"),l=a.attr("data-discount"),c=a.attr("data-old-price"),u=a.attr("data-price-value"),f=a.attr("data-price"),p=a.attr("data-code"),h=a.attr("data-available"),m=a.attr("data-scu"),v=a.children().attr("style");s.find(".ProductBox__Content .js-new-price").text(f),s.find(".ProductBox__Content .js-addtocart").toggleClass("hidden","N"===h),s.find(".ProductBox__Content .js-notify").toggleClass("hidden","Y"===h),null!=l?s.find(".ProductBox__Content .js-perc").length?s.find(".ProductBox__Content .js-perc").text(l):s.find(".ProductBox__Content .js-price").prepend('<span class="Price__Discount js-perc"><strong>'+l+"</strong></span>"):s.find(".ProductBox__Content .js-perc").remove();null!=c?s.find(".ProductBox__Content .js-old-price").length?s.find(".ProductBox__Content .js-old-price").text(c):s.find(".ProductBox__Content .js-price").append('<del class="Price__Old js-old-price">'+c+"</del>"):s.find(".ProductBox__Content .js-old-price").remove();s.find("[aria-pressed]").attr("aria-pressed",!1),s.find(".js-pb-image1").attr("src",o),s.find(".js-pb-image2").attr("src",n),t.ajax({type:"POST",url:"/ajax/getImages.php",data:{id:m},dataType:"json",success:function(a){if("ok"===a.status){var e=s.find(".js-hover-card-slider"),i=s.find(".js-preview-product-slider").find(".swiper-wrapper"),n="",o="";t.each(a.images,(function(t,a){n+='<li data-src-img="'+a.src+'" data-img-id="'+t+'"></li>',o+='<div class="swiper-slide"><img src="'+a.src+'" alt=""></div>'})),t(e).html(n),t(i).html(o),i[0].swiper&&i[0].swiper.update()}}}),e?(e.children().attr("style",v),e.attr("data-secondary-image",n),e.attr("data-main-image",o),e.attr("data-variant-url",r),e.attr("data-index",d),e.attr("data-discount",l),e.attr("data-old-price",c),e.attr("data-price-value",u),e.attr("data-price",f),e.attr("data-code",p),e.attr("aria-pressed",!0)):a.attr("aria-pressed",!0);i.find("[data-close]").click()}(t(this))})),t(document).on("click","[data-open]",(function(){h=window.scrollY,t(this).parent().find("[data-target]").attr("data-opened",!0),t("body").addClass("mobile-fixed")})),t(document).on("click","[data-close]",(function(){t("body").removeClass("mobile-fixed"),t(this).closest("[data-target]").attr("data-opened",!1),window.scrollTo(0,h)})),t('[data-component="Tabs"]').find("button[data-target-panel]").click((function(){var a=t(this),e=a.parent(),i=a.closest('[data-component="Tabs"]').find(".Tab__Body__Content"),s=a.index();e.children().removeClass("active"),i.removeClass("active fade"),a.addClass("active"),i.eq(s).addClass("active fade")})),t('[data-component="Tabs"]').find("button[data-button-panel]").click((function(a){var e=t(this),i=e.closest('[data-component="Tabs"]'),s=e.attr("data-button-panel");e.toggleClass("active"),i.find("#"+s).toggleClass("active"),a.preventDefault()})),t(window).resize((function(){t(".ProductInfo__Tab").find("[data-target-panel]").removeClass("active"),t(".ProductInfo__Tab").find("[data-target-panel]").eq(0).addClass("active"),t(".ProductInfo__Tab").find("[data-button-panel]").removeClass("active"),t(".ProductInfo__Tab").find("[data-button-panel]").eq(0).addClass("active"),t(".ProductInfo__Tab").find("[data-tab-panel]").removeClass("active fade"),t(".ProductInfo__Tab").find("[data-tab-panel]").eq(0).addClass("active fade")})),t('[data-component="Quantity"]').each((function(){var a=t(this),e=a.find("input"),i=a.find(".Minus"),s=a.find(".Plus"),n=parseInt(e.attr("data-limit"));s.click((function(){var t=e,a=t.val();a<n?a++:s.attr("disabled",!0),i.attr("disabled",!a),t.val(a)})),i.attr("disabled",!e),i.click((function(){var t=e,a=t.val();a>1?(a--,t.val(a)):i.attr("disabled",!0),s.attr("disabled",!a)})),e.on("change keyup focus",(function(){var a=this,e=t(this).val().replace(/[^0-9]/g,"");t(this).val(e),setTimeout((function(){t(a).val()>n&&t(a).val(n)}),1e3)}))})),t(document).on("click",".js-shade-dropdown, .js-basket-shade-dropdown",(function(){var a=t(this);a.toggleClass("active"),t("html").toggleClass("select-open"),a.hasClass("active")?a.attr("aria-expanded",!0):a.attr("aria-expanded",!1)})),t(document).on("click",".js-shadelist-carousel .js-shade",(function(){var a=t(this),e=a.attr("data-value"),i=a.children().attr("style"),s=a.attr("data-name"),n=t(".js-shadelist-carousel .js-shade"),o=t(".js-shade-dropdown .js-dropdown-trigger"),r=t(".js-shade-dropdown .js-dropdown-list"),d=t(".js-product-images"),l=a.attr("data-available"),c=a.attr("data-price"),u=a.attr("data-old-price"),f=a.attr("data-discount"),p=parseInt(a.attr("data-scu"));o.attr("data-value",e),o.children(".js-shade-img").attr("style",i),o.children(".OptionText").text(s),r.find(".js-shade-dropdown-option").attr("data-selected","false"),r.find('[data-value="'+e+'"]').attr("data-selected","true"),n.attr("aria-pressed","false"),a.attr("aria-pressed","true"),t(".js-addtocart").toggleClass("hidden","N"===l),t(".js-notify").toggleClass("hidden","Y"===l),t(".js-new-price").html(c),t(".js-old-price").html(u).toggleClass("hidden",0===u.length),t(".js-perc").toggleClass("hidden",0===f.length).find("strong").html(f),t(".js-new-price-mob").html(c),t(".js-old-price-mob").html(u).toggleClass("hidden",0===u.length),t(".js-perc-mob").toggleClass("hidden",0===f.length).html(f);for(var h=JS_OBJ.OFFERS[p].MORE_PHOTO.FULL,m=0;m<h.length;m++){var v=h[m];d.find(".slick-slide").eq(m).find("[data-img-url]").attr("data-img-url",v),d.find(".slick-slide").eq(m).find("[data-zoom-img]").attr("data-zoom-img",v),d.find(".slick-slide").eq(m).find('meta[itemprop="image"]').attr("content",v),d.find(".slick-slide").eq(m).find(".js-product-image").attr("data-original",v),d.find(".slick-slide").eq(m).find(".js-product-image").attr("data-src",v),d.find(".slick-slide").eq(m).find(".js-product-image").attr("src",v),d.find(".slick-slide").eq(m).find(".js-product-image").next().attr("src",v),d.find(".slick-dots li").eq(m).find("img").attr("src",v),b("imageZoom")}if(JS_OBJ&&JS_OBJ.OFFERS&&p&&JS_OBJ.OFFERS[p]){var g="";if(JS_OBJ.OFFERS[p].ACTIONS)for(var C in JS_OBJ.OFFERS[p].ACTIONS)JS_OBJ.OFFERS[p].ACTIONS.length>1?g+='<a class="Tag Tag--hit" href="/promotions/'+JS_OBJ.OFFERS[p].ACTIONS[C].CODE+'/" data-label-code="hit" data-color="hit">'+JS_OBJ.OFFERS[p].ACTIONS[C].NAME+"</a>":JS_OBJ.OFFERS[p].ACTIONS.length&&(g+='<span class="Tag Tag--hit" data-label-code="hit" data-color="hit">'+JS_OBJ.OFFERS[p].ACTIONS[C].NAME+'</span><a href="/promotions/'+JS_OBJ.OFFERS[p].ACTIONS[C].CODE+'/" class="link">Подробнее об акции</a>');t("[data-actions-list]").html(g)}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_item",value:parseFloat(c),items:[{id:parseInt(a.data("scu")),google_business_vertical:"retail"}]})})),t(document).on("click",".js-shade-dropdown .js-shade-dropdown-option",(function(){var a=t(this),e=a.attr("data-value"),i=e;a.is("[data-scu]")&&(i=a.attr("data-scu"));var s=a.children().attr("style"),n=a.attr("data-name"),o=a.closest(".SelectShades").find(".js-dropdown-trigger"),r=a.closest(".SelectShades").find(".js-dropdown-list");o.attr("data-value",e),o.children(".js-shade-img").attr("style",s),o.children(".OptionText").text(n),r.find(".js-shade-dropdown-option").attr("data-selected","false"),r.find('[data-value="'+e+'"]').attr("data-selected","true"),t(".js-shadelist-carousel").find('.js-shade[data-value="'+e+'"]').trigger("click"),a.closest(".js-productbar").find(".js-addtocart").attr("data-product-id",i)})),t(document).on("click",".js-basket-shade-dropdown .js-shade-dropdown-option",(function(){var a=t(this),e=a.attr("data-value"),i=a.children().attr("style"),s=a.attr("data-name"),n=a.closest(".SelectShades").find(".js-basket-shade-dropdown .js-dropdown-trigger"),o=a.closest(".SelectShades").find(".js-basket-shade-dropdown .js-dropdown-list");n.attr("data-value",e),n.children(".js-shade-img").attr("style",i),n.children(".OptionText").text(s),o.find(".js-shade-dropdown-option").attr("data-selected","false"),o.find('[data-value="'+e+'"]').attr("data-selected","true")})),t(document).on("click",".js-shade",(function(){var a=t(this).data("scu")||0,e=t(this).data("name")||"",i=t(this).data("colorName")||"",s=t(this).closest(".js-product-detail, .js-productbox"),n=t(this).data("gift-qty")||1,o=t(this).data("gift-rule")||"";if(s.length&&a&&(window.selectedOffer=t(this).attr("data-code"),s.find(".js-addtocart").attr("data-product-id",a).data("product-id",a),s.find(".js-notify").attr("data-product-id",a).data("product-id",a),s.find(".js-notify").attr("data-article",e).data("article",e),s.find(".FindInStore__Action").attr("data-article",window.selectedOffer).data("article",window.selectedOffer),s.find(".js-notify").attr("data-color",i).data("color",i),s.find("[data-add-gift]").attr("data-product-id",a).data("product-id",a),s.find("[data-add-gift]").attr("data-gift-qty",n).data("gift-qty",n),s.find("[data-add-gift]").attr("data-gift-rule",o).data("gift-rule",o),s.hasClass("js-product-detail"))){var r=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.split("?"),s="";for(var n in e)s+=(s?"&":"")+e[n];if(void 0!==i[1]){var o=i[1].split("&");for(var r in o){var d=o[r].split("="),l=0;for(var c in a)if(-1!==d[0].indexOf(a[c])){l=1;break}l||(s+=(s?"&":"")+o[r])}}return s?i[0]+"?"+s:t}(window.location.href,["offer"],["offer="+window.selectedOffer]);history.pushState([],document.title,r)}})),t(".js-select-dropdown").click((function(){var a=t(this);a.toggleClass("active"),a.parent().toggleClass("active"),t("html").toggleClass("select-open"),a.hasClass("active")?a.attr("aria-expanded",!0):a.attr("aria-expanded",!1)})),t(".js-select-dropdown").each((function(){var a=t(this).find(".js-dropdown-option"),e=t(this).find(".js-dropdown-trigger-text");t(".js-product-images");a.click((function(){var i=t(this),s=i.children().first();a.removeClass("selected"),i.addClass("selected"),s.hasClass("ReviewIndicator")&&e.html('<div class="ReviewIndicator">'+s.html()+"</div>"),s.hasClass("uppercase")&&e.html('<span class="js-dropdown-trigger-text uppercase">'+s.html()+"</span>"),""==i.attr("data-value")&&e.html('<span class="js-dropdown-trigger-text ">'+i.text()+"</span>")}))})),t(document).mouseup((function(a){var e=t('[data-component="ShadeDropdown"]'),i=t(".js-select-dropdown");C(e,a),C(i,a)})),t(document).on("click",'[data-component="AddToWishlistAction"] button',(function(){var a=t(this),e=t("body"),i=t(this).attr("data-url")||"/auth/",s=encodeURIComponent("/personal/favorites/");if(e.hasClass("wishlist-enabled")){var n=a.closest(".Dropdown");0===n.length&&(n=a.closest(".rr-item__dropdown-wishlist"));var o=n.data("product-id"),r=n.data("product-name"),d=n.data("action"),l="Вы добавили в избранное";"del"===d&&(l="Вы удалили из избранного");var c={scu:o,action:d,ajax:"Y"};t.ajax({type:"GET",url:"/ajax/favorites.php",data:c}).done((function(){t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-success  cart   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave " role="presentation" height="120" width="120"><use xlink:href="#wave"><svg id="wave" viewBox="0 0 176.43 24"><title></title><path d="M88.21 24h85c-23 0-31.29-2.41-52-13-22.5-11.5-33-11-33-11s-10.5-.5-33 11c-20.71 10.59-29 13-52 13z" fill="#e0e9d5" data-name="Layer 2"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon check-mark " role="presentation" height="20" width="20"><use xlink:href="#check-mark"><svg id="check-mark" viewBox="0 0 18 18"><title></title><path fill-rule="evenodd" d="M7.924 12.843l6.9-6.169a.497.497 0 000-.758l-.848-.759a.651.651 0 00-.849 0L7.5 10.187 4.873 7.84a.651.651 0 00-.849 0l-.848.759a.497.497 0 000 .758l3.9 3.487a.65.65 0 00.848 0z"></path></svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Ок</button></div><div class="GlobalNotification__Text text-center"><span data-qty="1"></span><div class="secondary">'+l+'</div><div class="primary">'+r+"</div></div>"+("del"==d?"":'<div class="GlobalNotification__ButtonRight">')+("del"===d?"":'<a class="Button" href="/personal/favorites/">Перейти в избранное</a>')+("del"===d?"":"</div>")+"</div></div></div></div>"),setTimeout((function(){t(".js-global-notification").addClass("show"),"del"===d&&n.closest(".ProductBox").addClass("hidden"),"add"===d&&"undefined"!=typeof ym&&ym(56642815,"reachGoal","Addtowishlist"),"add"===d&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"add_to_favorite"}),a.addClass("added"))}),100)}),"json")}else t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-error  icon-alert   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave-err " role="presentation" height="120" width="120"><use xlink:href="#wave-err"><svg id="wave-err" viewBox="0 0 170 24"><title></title><path d="M85 24h85c-23 0-31.29-2.41-52-13C95.5-.5 85 0 85 0S74.5-.5 52 11C31.29 21.59 23 24 0 24z" fill="#f6cfcf"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon tip " role="presentation" height="20" width="20"><use xlink:href="#tip"><svg id="tip" viewBox="0 0 20 20"><title></title><path fill-rule="evenodd" d="M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2.222a7.778 7.778 0 100 15.556 7.778 7.778 0 000-15.556zm.72 5.302v8.043H9.522V7.524h1.198zm.093-3.08v1.323H9.444V4.444h1.37z"></path></svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Отмена</button></div><div class="GlobalNotification__Text text-center"><div class="primary">Чтобы получить доступ к списку пожеланий, необходимо войти в систему или зарегистрироваться на сайте</div></div><div class="GlobalNotification__ButtonRight"><a class="Button " href="'+i+(s?"?backurl="+s:"")+'">Войти</a></div></div></div></div></div>'),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)})),t(document).on("click","[data-confirm-clear-favorites]",(function(){t.ajax({type:"GET",url:"/ajax/favorites.php",data:{action:"delAll"}}).done((function(){t.magnificPopup.close(),t(".js-clear-favorites-btn").remove(),t(".js-listing").empty(),t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-success  cart   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave " role="presentation" height="120" width="120"><use xlink:href="#wave"><svg id="wave" viewBox="0 0 176.43 24"><title></title><path d="M88.21 24h85c-23 0-31.29-2.41-52-13-22.5-11.5-33-11-33-11s-10.5-.5-33 11c-20.71 10.59-29 13-52 13z" fill="#e0e9d5" data-name="Layer 2"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon check-mark " role="presentation" height="20" width="20"><use xlink:href="#check-mark"><svg id="check-mark" viewBox="0 0 18 18"><title></title><path fill-rule="evenodd" d="M7.924 12.843l6.9-6.169a.497.497 0 000-.758l-.848-.759a.651.651 0 00-.849 0L7.5 10.187 4.873 7.84a.651.651 0 00-.849 0l-.848.759a.497.497 0 000 .758l3.9 3.487a.65.65 0 00.848 0z"></path></svg></use></svg></span><div class="inner inner--center"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Ок</button></div><div class="GlobalNotification__Text text-center"><span data-qty="1"></span><div class="secondary">Вы удалили все товары из избранного</div></div></div></div></div></div>'),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)}),"json")})),t('[data-component="RequireLogin"]').click((function(){var a=t("body"),e=t(this).attr("data-primary-line"),i=t(this).attr("data-action")||"default",s=t(this).attr("data-url")||"/auth/",n=encodeURIComponent(t(this).attr("data-back-url"))||"";if(a.hasClass(i+"-enabled")){if("review"==i){t(".Reviews__Write .Reviews__Write__Close").trigger("click"),t(".Reviews__Write").removeClass("hidden");var o=t(".Reviews__Write").offset().top-88-60;t("html, body").animate({scrollTop:o},500)}}else{var r='<div class="GlobalNotification js-global-notification" aria-live="assertive">';r+='<div class="mod-notification mod-notification-error icon-alert">',r+='<div class="container"><span class="GlobalNotification__Icon">',r+='<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave-err" role="presentation" height="120" width="120">',r+='<use xlink:href="#wave-err"><svg id="wave-err" viewBox="0 0 170 24">',r+='<path d="M85 24h85c-23 0-31.29-2.41-52-13C95.5-.5 85 0 85 0S74.5-.5 52 11C31.29 21.59 23 24 0 24z" fill="#f6cfcf"></path></svg></use></svg>',r+='<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon tip " role="presentation" height="20" width="20">',r+='<use xlink:href="#tip"><svg id="tip" viewBox="0 0 20 20">',r+='<path fill-rule="evenodd" d="M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2.222a7.778 7.778 0 100 15.556 7.778 7.778 0 000-15.556zm.72 5.302v8.043H9.522V7.524h1.198zm.093-3.08v1.323H9.444V4.444h1.37z"></path>',r+='</svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft">',r+='<button aria-live="assertive" data-type="secondary" class="Button close">Отмена</button></div>',r+='<div class="GlobalNotification__Text text-center"><div class="primary">'+e+"</div></div>",r+='<div class="GlobalNotification__ButtonRight"><a class="Button " href="'+s+(n?"?backurl="+n:"")+'">Войти</a></div>',r+="</div></div></div></div>",a.append(r),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)}})),t(".js-close-review").on("click",(function(){"review"==(t('[data-component="RequireLogin"]').attr("data-action")||"default")&&(t(this).parent().hasClass("hidden")||t(this).parent().addClass("hidden"))})),t(document).on("click",".js-global-notification .Button.close",(function(){var a=t(this).closest(".js-global-notification").removeClass("show");setTimeout((function(){a.remove()}),100)})),t('[data-component="Show"]').children("button").click((function(){t(this).next().toggleClass("hide-element")}));var w=t('[data-component="ProductBar"]');function _(){t("[data-zoom-img]").each((function(a){var e=t(this),i=e.attr("id"),s=e.width(),n={width:s,height:s,offset:{vertical:0,horizontal:10},zoomPosition:"original"};new m.a(document.getElementById(i),n)}))}function b(a){t(".js-image-zoom__zoomed-area").remove(),t(".js-image-zoom__zoomed-image").remove(),t(window).width()>767&&_()}if(t(window).scroll((function(){w.length&&scroll()})),setTimeout((function(){t(window).width()>767&&_()}),500),t(window).resize((function(){t(window).width()>767&&(t(".js-zoom-img").removeAttr("style"),b())})),t(".js-minicart-catalyst").click((function(){t(this);var a=t('[data-component="MiniCart"]'),e=parseInt(t("[data-cart-count]").text());t(".js-global-notification").removeClass("show"),t(window).width()>768?(a.removeClass("force-hidden"),t("html").addClass("minicart-open"),setTimeout((function(){a.addClass("open")}),100)):e>0?window.location.href="/personal/cart/":(a.removeClass("force-hidden"),t("html").addClass("minicart-open"),setTimeout((function(){a.addClass("open")}),100))})),t(document).on("click","[data-button-minicart-close]",(function(){t("#minicart").toggleClass("open"),t("html").toggleClass("minicart-open")})),t("[data-cart-title]").click((function(){t(this).toggleClass("open"),t(this).parent().find("[data-cart-body]").slideToggle(300)})),t("[data-tabs-head]").children().click((function(){var a=t(this),e=a.closest("[data-tabs]").find("[data-tabs-body]"),i=a.index();a.parent().children().removeClass("active"),a.addClass("active"),e.children().removeClass("active"),e.children().eq(i).addClass("active")})),t('[data-component="Remove"]').click((function(){t(this).closest("[data-remove-item]").remove()})),t(document).on("click",".double-arrow-container",(function(){t(".Cart__Bottom-info").slideToggle(300),t(this).toggleClass("opened")})),t(document).on("scroll",(function(){t(".Cart__Bottom-info").slideUp(),t(".double-arrow-container").removeClass("opened")})),t(document).on("click",(function(a){a.target.closest(".Cart__Bottom")||(t(".Cart__Bottom-info").slideUp(),t(".double-arrow-container").removeClass("opened"))})),t('[data-component="FoundationFinder"]').length){var k=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.extend(a,{c:"jamilco:foundation.finder",mode:"class"}),t.extend(e,{SITE_ID:"s1",params:t("[data-ff-params]").data("ff-params")}),BX.showWait(),t.ajax({url:"/bitrix/services/main/ajax.php?"+t.param(a,!0),type:"POST",dataType:"json",data:e,success:function(a){"success"===a.status&&(t("[data-ff-container]").html(a.data),t("[data-mfp-src]").magnificPopup({type:"inline",midClick:!0}),t("[data-slider]").slick({centerMode:!0,slidesToShow:2,arrows:!1})),t.magnificPopup.close(),BX.closeWait()}})};t(document).on("click","[data-ff-button-start]",(function(t){t.preventDefault(),k({action:"start"})})),t(document).on("click","[data-ff-button-next]",(function(a){a.preventDefault();var e=t(this);e.hasClass("ff-button-filter--disabled")||k({action:"next"},{property:e.data("ff-property"),value:e.data("ff-value")})})),t(document).on("click","[data-ff-button-back]",(function(t){t.preventDefault(),k({action:"back"})})),t(document).on("click",".ff-button-filter--disabled",(function(a){var e=t(a.target).hasClass("ff-button-filter")?t(a.target):t(a.target).parents("button");t(e).find(".ff-tooltip").toggleClass("opened")})),t(document).on("click","[data-ff-button-detail]",(function(a){t("#detail-popup").find("a").attr("href",t(this).attr("href"))})),t(document).on("click","[data-ff-button-offer]",(function(a){a.preventDefault();var e=t(this),i=e.closest(".ff-product-card").find(".ff-product-card-details"),s=i.find("[data-ff-button-detail]");s.attr("href",s.data("product-link")+"?offer="+e.data("offer-code")),i.find(".ReviewIndicator").attr("href",s.attr("href")+"#reviews"),i.find(".ProductList__MainImg").attr("src",e.data("offer-img")),i.find(".Shade__Img").attr("style","background-image: url("+e.data("offer-color")+");"),i.find(".Shade__Description").text(e.data("offer-name")),i.find(".Button--AddToCart").attr("data-product-id",e.data("offer-id")),e.closest(".ProductDetails__ShadesActions").find(".Shade--selected").removeClass("Shade--selected"),e.addClass("Shade--selected")})),t(document).on("click","[data-ff-result-button-more]",(function(a){a.preventDefault(),t(".ff-other-results").addClass("show")})),t(document).on("click","[data-ff-result-button-less]",(function(a){a.preventDefault(),t(".ff-other-results").removeClass("show")}))}if(t(".js-show-try-it-frame").on("click",(function(){t(".js-try-it-view").hide(),t(".js-try-it-frame").show()})),initCatalogFilterSlider(),t('[data-component="PersonalAddresses"]').length){var P=function(){t("[data-location]").off("click").on("click",(function(a){a.preventDefault();var e=t(this),i=e.closest("form"),s=e.attr("data-location"),n=e.attr("data-id");i.find("[data-location-id]").val(n),i.find("[data-address-city]").val(s),i.find("[data-address-city]").next("label").hide()}))},x='\n            <div class="address-info address-info--checked" data-address-main>\n                <a>основной адрес</a>\n            </div>',j='\n            <div class="address-info">\n                <a href="#" data-address-set-main>сделать основным</a>\n            </div>',I='<span class="address-main" data-address-main>основной</span>',O=!1;t("[data-address-city]").off("keyup").on("keyup",(function(){var a=t(this),e=a.val(),i=a.closest("[data-city-parent]"),s=i.find("form"),n=s.find("[data-submit-address-form]"),o=s.serialize();s.find("[data-location-id]").val(""),O&&(clearTimeout(O),O=!1),e.length>3&&(n.attr("disabled",!0),O=setTimeout((function(){var e=a.data("ajax");e&&e.abort(),e=t.ajax({url:"/ajax/get_cities.php",method:"POST",dataType:"json",data:o}).done((function(t){var a=i.find("[data-list-city]");a.html("");for(var e=0;e<t.locations.length;e++){var s='\n                                <a\n                                    href="#"\n                                    class="location-item location-item link"\n                                    data-id="'.concat(t.locations[e].ID,'"\n                                    data-location="').concat(t.locations[e].NAME_RU,'"\n                                    title="').concat(t.locations[e].PATH,'"\n                                >\n                                    ').concat(t.locations[e].NAME_RU,"\n                                </a>");a.append(s)}P(),n.attr("disabled",!1)})),a.data("ajax",e)}),500))})),P(),t("[data-personal-address-form] input").on("input",(function(){t(this).next("label.error").hide()})),t("[data-personal-address-form]").on("submit",(function(a){a.preventDefault();var e=t(this),i=e.find("input[required]"),s=e.find("[data-submit-address-form]");s.attr("disabled",!0);var n=!0;if(i.each((function(a,e){(""===t(e).val().trim()||t(e).hasClass("ui-autocomplete-input")&&!t(e).hasClass("complete"))&&(t(e).next("label").show(),n=!1)})),e.find("[data-location-id]").length>0&&""===e.find("[data-location-id]").val()&&(e.find("[data-address-city]").next("label").show(),n=!1),!n)return s.attr("disabled",!1),!1;var o=e.attr("name"),r=e.attr("action"),d=e.serializeArray(),l=t('[data-component="CartView"]').length>0;BX.showWait(),t.ajax({type:"POST",url:r,data:d,dataType:"json",success:function(a){if("ok"===a.status){var i=t("[data-address-list]");if("personal-address-add"===o){var n=e.find("[data-location-id]").val(),r=e.find("[data-address-city]").val(),d=e.find("[data-address-street]").val(),c=e.find("[data-address-house]").val(),u=e.find("[data-address-flat]").val(),f="",p="";a.is_main?(p=l?I:x,i.find("[data-address-main]").length>0&&(l?i.find("[data-address-main]").remove():i.find("[data-address-main]").replaceWith(j))):l||(p=j);var h="";""!==u&&(h=", кв./оф. <span data-address-flat>".concat(u,"</span>")),f=l?'\n                                    <div class="CartItems__address" data-address-id="'.concat(a.id,'">\n                                        <div class="address">\n                                            <div class="city" data-location-id="').concat(n,'">').concat(r,'</div>\n                                \n                                            <div class="address-text" data-address-full>\n                                                <span data-address-street>').concat(d,"</span>,\n                                                д. <span data-address-house>").concat(c,"</span>\n                                                ").concat(h,"\n                                                ").concat(p,'\n                                            </div>\n                                        </div>\n                                        \n                                        <div class="address-info">\n                                            <a href="#" data-address-change>доставить сюда</a>\n                                        </div>\n \n                                        <div class="address-controls">\n                                            <a href="#popup-personal-address-update" data-popup="popup-personal-address-update" class="address-edit">\n                                                <svg class="icon edit" width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                    <path d="M4.22479 11.2107L14.4354 1.00011L17.2344 3.79907L7.02375 14.0097L2.39986 15.8346L4.22479 11.2107Z" stroke="black" stroke-width="0.8"/>\n                                                    <path d="M12.4766 3.51855L14.7157 5.75773" stroke="black" stroke-width="0.8"/>\n                                                    <path d="M4.78711 11.2063L5.90669 12.3259L7.02628 13.4455" stroke="black" stroke-width="0.8"/>\n                                                </svg>\n                                            </a>\n                                \n                                            <a href="#popup-personal-address-delete" data-popup="popup-personal-address-delete" class="address-delete">\n                                                <svg class="icon delete" width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.3674 2.25068H17.839C17.9439 2.25068 18.0444 2.2899 18.1186 2.35971C18.1927 2.42952 18.2344 2.52421 18.2344 2.62294C18.2344 2.72167 18.1927 2.81635 18.1186 2.88617C18.0444 2.95598 17.9439 2.9952 17.839 2.9952H15.4967V17.6273C15.4968 17.6763 15.4866 17.7248 15.4668 17.7701C15.4469 17.8153 15.4178 17.8565 15.381 17.8911C15.3442 17.9257 15.3005 17.9532 15.2525 17.9719C15.2044 17.9906 15.1529 18.0001 15.1008 18H2.58584C2.53382 18.0001 2.4823 17.9906 2.43422 17.9719C2.38614 17.9532 2.34245 17.9257 2.30567 17.8911C2.26889 17.8565 2.23974 17.8153 2.2199 17.7701C2.20005 17.7248 2.1899 17.6763 2.19002 17.6273V2.9952H0.629712C0.524862 2.9952 0.424306 2.95598 0.350166 2.88617C0.276026 2.81635 0.234375 2.72167 0.234375 2.62294C0.234375 2.52421 0.276026 2.42952 0.350166 2.35971C0.424306 2.2899 0.524862 2.25068 0.629712 2.25068H5.31925V0.372712C5.31925 0.16655 5.49613 0 5.71411 0H11.9726C12.1906 0 12.3674 0.16655 12.3674 0.372712V2.25068ZM11.5768 2.25068V0.744523H6.10897V2.25068H11.5777H11.5768ZM2.98165 2.9952V17.2555H14.7069V2.9952H2.98165ZM5.32021 5.24857C5.32021 5.19975 5.33042 5.1514 5.35027 5.10629C5.37011 5.06118 5.39919 5.02019 5.43586 4.98566C5.47253 4.95114 5.51606 4.92375 5.56396 4.90507C5.61187 4.88638 5.66321 4.87676 5.71507 4.87676C5.76692 4.87676 5.81827 4.88638 5.86617 4.90507C5.91408 4.92375 5.95761 4.95114 5.99427 4.98566C6.03094 5.02019 6.06003 5.06118 6.07987 5.10629C6.09971 5.1514 6.10993 5.19975 6.10993 5.24857V14.2513C6.10993 14.3001 6.09971 14.3484 6.07987 14.3936C6.06003 14.4387 6.03094 14.4797 5.99427 14.5142C5.95761 14.5487 5.91408 14.5761 5.86617 14.5948C5.81827 14.6135 5.76692 14.6231 5.71507 14.6231C5.66321 14.6231 5.61187 14.6135 5.56396 14.5948C5.51606 14.5761 5.47253 14.5487 5.43586 14.5142C5.39919 14.4797 5.37011 14.4387 5.35027 14.3936C5.33042 14.3484 5.32021 14.3001 5.32021 14.2513V5.24857ZM8.44944 5.24857C8.44944 5.14996 8.49104 5.05539 8.56509 4.98566C8.63914 4.91594 8.73957 4.87676 8.8443 4.87676C8.94902 4.87676 9.04945 4.91594 9.1235 4.98566C9.19755 5.05539 9.23916 5.14996 9.23916 5.24857V14.2513C9.23916 14.3499 9.19755 14.4445 9.1235 14.5142C9.04945 14.5839 8.94902 14.6231 8.8443 14.6231C8.73957 14.6231 8.63914 14.5839 8.56509 14.5142C8.49104 14.4445 8.44944 14.3499 8.44944 14.2513V5.24857ZM11.5777 5.24857C11.5777 5.14984 11.6194 5.05516 11.6935 4.98535C11.7676 4.91553 11.8682 4.87631 11.973 4.87631C12.0779 4.87631 12.1785 4.91553 12.2526 4.98535C12.3267 5.05516 12.3684 5.14984 12.3684 5.24857V14.2513C12.3684 14.35 12.3267 14.4447 12.2526 14.5145C12.1785 14.5843 12.0779 14.6235 11.973 14.6235C11.8682 14.6235 11.7676 14.5843 11.6935 14.5145C11.6194 14.4447 11.5777 14.35 11.5777 14.2513V5.24857Z" fill="black"/>\n                                                </svg>\n                                            </a>\n                                        </div>\n                                    </div>'):'\n                                    <div class="SnowBox SnowBox--1-column SnowBox--Address" data-address-id="'.concat(a.id,'">\n                                        <header>\n                                            <div class="SnowBox__Wrapper">\n                                                <p>\n                                                    <strong data-location-id="').concat(n,'">').concat(r,"</strong>\n                                                </p>\n                                            </div>\n                                            ").concat(p,'\n                                        </header>\n                                        \n                                        <section>\n                                            <div class="address" data-address-full>\n                                                <span data-address-street>').concat(d,"</span>,\n                                                д. <span data-address-house>").concat(c,"</span>\n                                                ").concat(h,'\n                                            </div>\n                    \n                                            <div class="address-controls">\n                                                <a href="#popup-personal-address-update" data-popup="popup-personal-address-update" class="Button">Изменить</a>\n                                                <a href="#popup-personal-address-delete" data-popup="popup-personal-address-delete" class="Button Button--light">Удалить</a>\n                                            </div>\n                                        </section>\n                                    </div>'),l?i.append(f):i.find("div").last().before(f),i.find('[data-address-id="'+a.id+'"]').find("[data-popup]").each((function(){initPopup(t(this))})),l&&1===i.find("[data-address-id]").length&&"function"==typeof setPersonalAddressActive&&(t(".error-address").hide(),setPersonalAddressActive(a.id))}if("personal-address-update"===o){var m=i.find('[data-address-id="'+a.id+'"]');if(m.find("[data-location-id]").data("location-id",a.params.UF_LOCATION),m.find("[data-location-id]").text(a.city),m.find("[data-address-street]").text(a.params.UF_STREET),m.find("[data-address-house]").text(a.params.UF_BUILDING),a.params.UF_FLAT)m.find("[data-address-flat]").length?m.find("[data-address-flat]").text(a.params.UF_FLAT):m.find("[data-address-house]").after(", кв./оф. <span data-address-flat>".concat(a.params.UF_FLAT,"</span>"));else{m.find("[data-address-flat]").remove();var v=m.find("[data-address-full]").html();v=v.replace(", кв./оф.",""),m.find("[data-address-full]").html(v)}if(l){var g=m.find("[data-address-main]").length>0;if(!g&&a.is_main&&(i.find("[data-address-main]").remove(),m.find("[data-address-full]").append(I)),g&&!a.is_main){var C=i.find("[data-address-id]").first();i.find("[data-address-main]").remove(),C.find("[data-address-full]").append(I)}m.hasClass("CartItems__address--active")&&"function"==typeof setPersonalAddressActive&&setPersonalAddressActive(m.data("address-id"))}}if("personal-address-delete"===o){var w=i.find('[data-address-id="'+a.id+'"]'),_=w.find("[data-address-main]").length>0;if(w.removeAttr("data-address-id"),w.addClass("hidden"),l){var b=w.hasClass("CartItems__address--active"),y=i.find("[data-address-id]").first();if(y.length)_&&y.find("[data-address-city]").after(I),b&&"function"==typeof setPersonalAddressActive&&setPersonalAddressActive(y.data("address-id"));else{var k=t('[data-component="CartView"]');k.find("[data-input-personal-address-street]").val(""),k.find("[data-input-personal-address-building]").val(""),k.find("[data-input-personal-address-flat]").val(""),k.find(".CartItems__city").removeClass("hidden"),k.find('[data-tab-delivery="2"]').html('\n                                        <div class="CartRow">\n                                            <div\n                                                class="form-group floatl col3"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="STREET"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_23">\n                                                    Улица:<span class="starrequired">*</span>\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Улица"\n                                                    id="ORDER_PROP_23"\n                                                    name="ORDER_PROP_23"\n                                                    class="floatl__input"\n                                                    value=""\n                                                    data-street>\n                                            </div>\n                                            \n                                            <div\n                                                class="form-group floatl col1"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="BUILDING"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_24">\n                                                    Дом:<span class="starrequired">*</span>\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Дом"\n                                                    id="ORDER_PROP_24"\n                                                    name="ORDER_PROP_24"\n                                                    class="floatl__input"\n                                                    value=""\n                                                    data-house>\n                                            </div>\n                                            \n                                            <div\n                                                class="form-group floatl col2"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="FLAT"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_25">\n                                                    Квартира:\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Квартира"\n                                                    id="ORDER_PROP_25"\n                                                    name="ORDER_PROP_25"\n                                                    class="floatl__input"\n                                                    value="">\n                                            </div>\n                                        </div>'),initAutocompleteStreet(k.find('[data-tab-delivery="2"]').find("[data-street]")),initAutocompleteHouse(k.find('[data-tab-delivery="2"]').find("[data-house]"))}}else _&&(w.find("[data-address-main]").remove(),a.main_id&&i.find('[data-address-id="'+a.main_id+'"]').find("[data-address-set-main]").replaceWith(x))}t.magnificPopup.close()}else console.log(a.message),t(".modal__address-inputs-error").show().text(a.message);BX.closeWait(),setTimeout((function(){return s.attr("disabled",!1)}),700)}})})),t(document).on("click","[data-address-set-main]",(function(a){a.preventDefault();var e=t("[data-address-list]"),i=t(this).closest("[data-address-id]");BX.showWait(),t.ajax({url:"/ajax/personal_address.php",method:"POST",dataType:"json",data:{action:"main",id:i.data("address-id")}}).done((function(t){"ok"===t.status&&(e.find("[data-address-main]").replaceWith(j),i.find("[data-address-set-main]").replaceWith(x)),BX.closeWait()}))}))}if(t(document).on("click",'[data-tab-delivery="2"]',(function(){if(t(this).find("input:disabled").length){var a=t("[data-city-name]");a.addClass("danger"),setTimeout((function(){a.removeClass("danger")}),1e3)}})),t("[data-street], [data-address-street]").each((function(){initAutocompleteStreet(t(this))})),t("[data-house], [data-address-house]").each((function(){initAutocompleteHouse(t(this))})),t(".findinstore-vex-modal [data-target-panel]").on("click",(function(a){var e=t(".findinstore-vex-modal [data-tab-panel].active"),i=t("#".concat(t(a.target).data("target-panel")));e.removeClass("fade"),i.addClass("fade"),setTimeout((function(){e.removeClass("active"),i.addClass("active")}),300)})),t(".js-validate-birth").length>0){var S=[];t(".js-validate-birth").each((function(a){S[a]=new y.a(t(this)),S[a].createEventListeners()}))}t(".NavigationLocator").on("click",(function(t){t.preventDefault(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"store_address"}),window.location.href="/about/shops/"})),t(".FooterMain__Kisses__App a").on("click",(function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"app_store_google_play"})})),t("[data-btn-yes]").on("click",(function(){t(".popup-your-city").remove();var a=new Date;a.setDate(a.getDate()+30),document.cookie="popupYourCityShowed=Y;expires="+a.toGMTString()+";path=/"})),t("[data-btn-no]").on("click",(function(){t(".popup-your-city").remove();var a=new Date;a.setDate(a.getDate()+30),document.cookie="popupYourCityShowed=Y;expires="+a.toGMTString()+";path=/"})),setTimeout((function(){t(".popup-your-city").removeClass("close")}),3e3)})),window.initPopup=function(a){a.magnificPopup({type:"inline",midClick:!0,closeMarkup:'<button title="%title%" type="button" class="vex-close mfp-close popup__close"></button>',removalDelay:500,alignTop:!0,callbacks:{beforeOpen:function(){P=window.scrollY;var e=t(a.attr("href"));if(this.st.mainClass="mfp-zoom-in vex",t("html").addClass("vex-open"),"ChooseCountryLayer"==a.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex ChooseCountryLayer"),"ChooseCity"==a.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex ChooseCity"),"video"==a.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex VideoModal"),"gift"==a.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex mfp-center mfp-gift"),"popup-personal-address-add"===a.data("popup")&&(e.find("[data-address-city]").val(""),e.find("[data-address-street]").val(""),e.find("[data-address-house]").val(""),e.find("[data-address-flat]").val(""),e.find("[data-address-main]").prop("checked",!1),e.find(".floatl--active").removeClass("floatl--active"),e.find(".error").hide()),"popup-personal-address-update"===a.data("popup")){var i=a.closest("[data-address-id]"),s=i.find("[data-address-main]").length>0;e.find("[data-address-id]").val(i.data("address-id")),e.find("[data-location-id]").val(i.find("[data-location-id]").data("location-id")),e.find("[data-address-city]").val(i.find("[data-location-id]").text()),e.find("[data-address-street]").val(i.find("[data-address-street]").text()),e.find("[data-address-house]").val(i.find("[data-address-house]").text()),e.find("[data-address-flat]").val(i.find("[data-address-flat]").text()),e.find("[data-address-main]").prop("checked",!1),s&&e.find("[data-address-main]").prop("checked",!0),e.find(".floatl--active").removeClass("floatl--active"),e.find(".error").hide()}if("popup-personal-address-delete"===a.data("popup")){var n=a.closest("[data-address-id]");e.find("[data-address-id]").val(n.data("address-id")),e.find("[data-address-city]").text(n.find("[data-location-id]").text()),e.find("[data-address-full]").text(n.find("[data-address-full]").text())}if("select-date-popup"===a.data("popup")){var o=e.find(".select-times__items"),r=t('input[name="ORDER_PROP_date"]').val();o.html(""),window.JS_OBJ&&window.JS_OBJ.deliveryTime&&window.JS_OBJ.deliveryTime.forEach((function(t,a){var e=t.date.text===r?"checked":"";o.append('\n                                <div class="select-times__item">\n                                    <label>\n                                        <input type="radio" name="day" value="'.concat(t.date.value,'" ').concat(e,'>\n                                        <span class="pseudo-radio"></span>\n                                        <span class="select-times__value">\n                                            ').concat(t.date.text,"\n                                        </span>\n                                    </label>\n                                </div>"))}))}if("select-time-popup"===a.data("popup")){var d=e.find(".select-times__items"),l=t('input[name="ORDER_PROP_time"]').val();if(d.html(""),window.JS_OBJ&&window.JS_OBJ.deliveryTime){var c=0;t("#select-date-popup").find("input").each((function(){if(t(this).is(":checked"))return!1;c++})),window.JS_OBJ.deliveryTime[c].time.forEach((function(t,a){var e=t.text===l?"checked":"";d.append('\n                                <div class="select-times__item">\n                                    <label>\n                                        <input type="radio" name="time" value="'.concat(t.value,'" ').concat(e,'>\n                                        <span class="pseudo-radio"></span>\n                                        <span class="select-times__value">\n                                            ').concat(t.text,"\n                                        </span>\n                                    </label>\n                                </div>"))}))}}},open:function(){if("ChooseCountryLayer"==a.attr("data-popup")&&(t(".ChooseCountryLayer").find(".vex-content").css({top:"23px"}),t("body").addClass("with-bottom-bar")),"ChooseCity"==a.attr("data-popup")&&(t(".ChooseCity").find(".vex-content").removeAttr("style"),t("body").addClass("with-bottom-bar")),"video"==a.attr("data-popup")){var e=a.attr("href"),i=t(e).find("[data-video]").attr("id");0==t(e).find(".plyr").length&&(k=new w.a("#".concat(i),{controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"]})),k.play()}"select-date-popup"!==a.data("popup")&&"select-time-popup"!==a.data("popup")||t(".mfp-content").addClass("mfp-select-time")},close:function(){t("html").removeClass("vex-open"),window.scrollTo(0,P),"ChooseCountryLayer"==a.attr("data-popup")&&t("body").removeClass("with-bottom-bar"),"ChooseCity"==a.attr("data-popup")&&t("body").removeClass("with-bottom-bar"),"video"==a.attr("data-popup")&&k.pause()},afterClose:function(){"popup-personal-address-delete"===a.data("popup")&&a.blur()}}})};var I=function a(e){t(e.target).removeClass("complete"),t(e.target).off("input",a)};window.initAutocompleteStreet=function(a){var e;a.autocomplete({source:function(a,i){var s=t(this.element),n=t("[data-city-name]").first().text();s.is("[data-address-street]")&&(n=s.closest("[data-personal-address-form]").find("[data-address-city]").val());var o=a.term;if(!(o.length<3)){var r={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+j},body:JSON.stringify({query:"".concat(n," ").concat(o)})};fetch(x,r).then((function(t){return t.text()})).then((function(a){e=JSON.parse(a).suggestions.filter((function(t){return t.data.street})).map((function(t){return{sreetId:t.data.street_fias_id||null,street:(a=t.data,e=a.settlement_with_type?"".concat(a.settlement_with_type,", "):"",i=a.area_with_type?"".concat(a.area_with_type,", "):"","".concat(e).concat(i).concat(a.street_type_full," ").concat(a.street).trim()||"")};var a,e,i})).filter((function(t,a,e){return e.findIndex((function(a){return a.sreetId===t.sreetId}))===a})),i(e.map((function(t){return t.street}))),t(".Cart__Bottom").css("display","none")})).catch((function(t){return console.log("error",t)}))}},select:function(a){t(a.target).addClass("complete"),t(a.target).trigger("keyup").trigger("change"),t(a.target).on("input",I)},close:function(a){var i=t(a.target).val().toLowerCase().trim(),s=e.find((function(t){return t.street.toLowerCase().includes(i)})).street||e.find((function(t){return i.split(" ").some((function(a){return t.street.toLowerCase().includes(a)}))})).street;s&&i&&(t(a.target).val(s),t(a.target).addClass("complete"),t(a.target).trigger("keyup").trigger("change"),t(a.target).on("input",I)),t(".Cart__Bottom").css("display","")}})};window.initAutocompleteHouse=function(a){var e;a.autocomplete({source:function(a,i){var s=t(this.element),n=t("[data-city-name]").first().text(),o=t("[data-street]").val();s.is("[data-address-house]")&&(n=s.closest("[data-personal-address-form]").find("[data-address-city]").val(),o=s.closest("[data-personal-address-form]").find("[data-address-street]").val()),s.removeClass("found");var r=a.term.trim();s[r?"addClass":"removeClass"]("complete");var d={method:"POST",mode:"cors",count:7,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+j},body:JSON.stringify({query:"".concat(n," ").concat(o," ").concat(r)})};fetch(x,d).then((function(t){return t.text()})).then((function(a){e=JSON.parse(a).suggestions.map((function(t){return function(t){if(!t.house_fias_id)return"";var a=t.house?"".concat(t.house," "):"",e=t.block_type?"".concat(t.block_type," "):"",i=t.block?"".concat(t.block," "):"";return"".concat(a).concat(e).concat(i).trim()}(t.data)})).filter((function(t,a,e){return e.indexOf(t)===a})),i(e),t(".Cart__Bottom").css("display","none")})).catch((function(t){return console.log("error",t)}))},select:function(a){t(a.target).addClass("found"),t(a.target).trigger("keyup").trigger("change"),t(a.target).on("input",I)},close:function(a){var i=t(a.target).val();e.includes(i)&&(t(a.target).addClass("found"),t(a.target).trigger("keyup").trigger("change"),t(a.target).on("input",I)),t(".Cart__Bottom").css("display","")}})},window.initCatalogFilterSlider=function(){var a=document.querySelector(".catalog-product_smart-filter__price-slider");if(a){var e=+a.dataset.min,i=+a.dataset.max,s=+a.dataset.currentMin,n=+a.dataset.currentMax;b.a.create(a,{range:{min:e,max:i},step:1,start:[s,n]}),a.noUiSlider.on("slide",(function(a){t(".catalog-product_smart-filter__price-slider__min-price").val(parseInt(a[0])),t(".catalog-product_smart-filter__price-slider__max-price").val(parseInt(a[1]))})),a.noUiSlider.on("set",(function(){window.smartFilterObj&&window.smartFilterObj.applyFilter()})),t(".catalog-product_smart-filter__price-slider__min-price").on("change",(function(t){var i=parseInt(t.target.value);i||(t.target.value=parseInt(a.noUiSlider.get()[0]),i=parseInt(a.noUiSlider.get()[0])),i<e&&(t.target.value=e,i=e),t.target.value=i,a.noUiSlider.set([i,null])})),t(".catalog-product_smart-filter__price-slider__max-price").on("change",(function(t){var e=parseInt(t.target.value);e||(t.target.value=parseInt(a.noUiSlider.get()[1]),e=parseInt(a.noUiSlider.get()[1])),e>i&&(t.target.value=i,e=i),t.target.value=e,a.noUiSlider.set([null,e])}))}},document.addEventListener("input",(function(t){var a=t.target;a.classList.contains("js-fit-text-area")&&(a.style.height="",a.style.height=t.target.scrollHeight+3+"px")}))}.call(this,e(1),e(7))},38:function(t,a,e){var i=e(8),s=e(39);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var n={insert:"head",singleton:!1};i(s,n);t.exports=s.locals||{}},39:function(t,a,e){},40:function(t,a,e){var i=e(8),s=e(41);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var n={insert:"head",singleton:!1};i(s,n);t.exports=s.locals||{}},41:function(t,a,e){},42:function(t,a,e){"use strict"},43:function(t,a,e){"use strict";(function(t){var a=e(24),i=e.n(a),s=e(25),n=e.n(s);function o(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function a(){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),this.reviewBar=t(".ReviewBar"),this.toggler=t(".ReviewBar__Toggler"),this.cancelBtn=t(".ReviewBar__cancel"),this.offerId=t(".ReviewBar__cancel").data("offer"),this.initialize()}var e,s,r;return e=a,(s=[{key:"initialize",value:function(){var t=this;this.toggler.click((function(){t.reviewBar.toggleClass("ReviewBar--opened")})),this.cancelBtn.click((function(){var a={offerId:t.offerId};i.a.post("/ajax/reviews.php",n.a.stringify(a)).then((function(a){t.reviewBar.addClass("hidden")}))}))}}])&&o(e.prototype,s),r&&o(e,r),a}())}).call(this,e(1))},63:function(t,a,e){"use strict";(function(t){function a(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(){function e(a){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.footer=t(a),this.title=this.footer.find("[data-footer-accordion-title]"),this.wrapper=this.footer.find("[data-footer-accordion-wrapper]")}var i,s,n;return i=e,(s=[{key:"initialize",value:function(){var a=this;this.title.on("click",(function(e){var i=t(this),s=i.next("[data-footer-accordion-content]"),n=t("[data-footer-accordion-content]"),o=a.title,r=a.wrapper,d=i.closest("[data-footer-accordion-wrapper]"),l=-1;o.css("border-bottom","1px solid #DFDFDF"),o.each((function(t,a){i[0]===a&&(l=t-1)})),l>=0&&t(o[l]).css("border-bottom","none"),i.hasClass("active")?setTimeout((function(){d.toggleClass("toggled"),i.toggleClass("active"),o.css("border-bottom","1px solid #DFDFDF")}),150):(o.removeClass("active"),r.removeClass("toggled"),n.hide(),d.toggleClass("toggled"),i.toggleClass("active")),s.slideToggle("fast"),e.preventDefault()}))}}])&&a(i.prototype,s),n&&a(i,n),e}();document.addEventListener("DOMContentLoaded",(function(a){t("[data-footer-accordion]").length>0&&new e(t("[data-footer-accordion]")).initialize()}))}).call(this,e(1))},64:function(t,a,e){"use strict";(function(t){var a=e(2);function i(){t("#notifyModal").show()}function s(){t(document).on("mouseenter",".js-hover-card-slider li",(function(){var a=t(this),e=a.attr("data-src-img");a.closest(".ProductBox__Image").find(".face-img").attr("src",e);var i=t(this).attr("data-img-id"),s=t(this).closest(".ProductBox__Preview").find('.product-card__bullets .product-card__bullet[data-bullet-id="'.concat(i,'"]'));t(this).closest(".ProductBox__Preview").find(".product-card__bullets .product-card__bullet").removeClass("active"),s.addClass("active")})),t(".product-card__bullets").each((function(){t(this).find(".product-card__bullet").each((function(a){t(this).attr("data-bullet-id",a)}))}))}!function(e){t(document).on("submit","#formNotify",(function(a){a.preventDefault();var e=t(this),i=!1;e.find(".is-invalid").removeClass("is-invalid"),t(".form-error").css("visibility","hidden"),e.find(".required").each((function(){"text"==t(this).attr("type")?0==t(this).val().length&&(t(this).addClass("is-invalid"),i=!0):"email"==t(this).attr("type")?t(this).val().length>0&&1==(t(this).val().match(/.+?\@.+/g)||[]).length||(t(this).addClass("is-invalid"),i=!0):"checkbox"==t(this).attr("type")&&(t(this).is(":checked")||(t(this).parents(".checkbox").addClass("is-invalid"),i=!0))})),i||t.ajax({type:"GET",url:e.attr("action"),data:e.serialize(),success:function(a){t("#formNotify").html(a)}})})),t(document).on("click",".js-notify",(function(a){var e=t(this).data("productName"),s=t(this).data("productId"),n=t(this).data("article"),o=t(this).data("color"),r=t(this).data("id"),d=t("#item-"+r).find(".js-pb-image1").attr("src");t("[data-modal-product-id]").val(s),t("[data-modal-product-name]").text(e),t("[data-modal-product-img]").attr("src",d),t("[data-modal-product-article]").text(n),t("[data-modal-product-color]").text(o),setTimeout(i,1e3)})),t(document).on("click",".js-shade",(function(){var a=t(this).attr("data-is-stock"),e=t(this).attr("data-id"),i=t("#item-"+e).find(".js-is-stock");console.log("isStock"),"Y"==a?i.show():i.hide();var s=t(this).closest(".ProductBox__Preview").find(".ProductBox__Image_link"),n=t(this).attr("data-name"),o=s.attr("data-href");s&&n&&o&&s.attr("href",o+"?offer="+n)})),e.JCCatalogSection||(e.JCCatalogSection=function(a){this.siteId=a.siteId||"",this.template=a.template||"",this.parameters=a.parameters||"",e.navParams=a.navParams,this.waitLoad=!1,this.offers=a.offers||null,a.items&&(this.catalogProductListItem=a.items.catalogProductListItem||null,this.catalogProductListItemName=a.items.catalogProductListItemName||null,this.catalogProductListItemImg=a.items.catalogProductListItemImg||null,this.catalogProductListItemColorCont=a.items.catalogProductListItemColorCont||null,this.catalogProductListItemColor=a.items.catalogProductListItemColor||null,this.catalogProductListItemColorName=a.items.catalogProductListItemColorName||null,this.catalogProductListItemAddBtn=a.items.catalogProductListItemAddBtn||null,this.catalogProductListItemNotAvail=a.items.catalogProductListItemNotAvail||null,this.catalogProductListItemPrice=a.items.catalogProductListItemPrice||null,this.catalogProductListItemOldPrice=a.items.catalogProductListItemOldPrice||null,this.catalogProductListItemDisc=a.items.catalogProductListItemDisc||null,this.catalogProductListItemColorMoreBtn=a.items.catalogProductListItemColorMoreBtn||null,this.catalogProductListItemColorAllCont=a.items.catalogProductListItemColorAllCont||null,this.catalogProductListItemColorAllColorName=a.items.catalogProductListItemColorAllColorName||null,this.catalogProductListItemColorAllPattern=a.items.catalogProductListItemColorAllPattern||null,this.catalogProductListItemColorAllBtnClose=a.items.catalogProductListItemColorAllBtnClose||null,this.labelContainer=a.items.labelContainer||null),this.modalNotify="#notifyModal",this.available=null,this.activeProductContainer=null,this.smallPaletteOffers=[],this.activeOfferId=null,this.checkAvailable(t.proxy(this.init,this))},e.JCCatalogSection.prototype={checkAvailable:function(t){this.available=null!=this.offers,t()},init:function(){this.available?this.Events():console.log("not available product items...")},Events:function(){var a=t("body"),i=this;a.find(this.catalogProductListItem).on("click",this.catalogProductListItemColor,(function(){t(this).siblings().removeClass("active"),t(this).addClass("active");var a=t(this).attr("data-scu"),e=t(this).attr("data-id");i.setActiveOffer(e,a,i.catalogProductListItemColorName)})),t(this.catalogProductListItem).hover((function(){var a=t(this).attr("data-id");i.setProductContainer(a);var e=i.getActiveOfferId();i.changeProductPicture(e,"hover_on")}),(function(){var a=t(this).attr("data-id");i.setProductContainer(a);var e=i.getActiveOfferId(a);i.changeProductPicture(e,"hover_off"),i.activeProductContainer.find(i.catalogProductListItemColorAllBtnClose).trigger("click")})),a.find(this.catalogProductListItem).on("click",this.catalogProductListItemColorMoreBtn,(function(){var a=t(this).parents(i.catalogProductListItem),e=a.attr("data-id");i.setProductContainer(e),a.find(i.catalogProductListItemColorAllCont).removeClass("not-show")})),a.find(this.catalogProductListItem).on("click",this.catalogProductListItemColorAllBtnClose,(function(){t(this).parents(i.catalogProductListItem).find(i.catalogProductListItemColorAllCont).addClass("not-show"),i.shiftSmallPalette()})),a.find(this.catalogProductListItem).on("click",this.catalogProductListItemColorAllPattern,(function(){t(this).siblings().removeClass("active"),t(this).addClass("active");var a=t(this).attr("data-scu"),e=t(this).attr("data-id");i.setActiveOffer(e,a,i.catalogProductListItemColorAllColorName),i.shiftSmallPaletteOffers()})),a.find(this.catalogProductListItem).on("click",this.catalogProductListItemNotAvail,(function(){var a=t(this).attr("data-id");i.setProductContainer(a);var e=i.getActiveOfferId(a),s=i.offers[e].articul,n=i.activeProductContainer.find(i.catalogProductListItemName).text(),o=i.offers[e].pictures.firstPicture,r=i.offers[e].colorPattern.name;t(this).attr("data-scu",e),t(i.modalNotify).find('input[name="sku_id"]').val(e),t(i.modalNotify).find('input[name="notify_product_name"]').val(s),t(i.modalNotify).find(".js-product-name").text(n),t(i.modalNotify).find(".sku-preview-photo").attr("src",o),t(i.modalNotify).find(".js-articul").text(s),t(i.modalNotify).find(".js-color-name").text(r),setTimeout((function(){t(i.modalNotify).modal("show")}),300)})),t(e).on("scroll",(function(){var a=t(".Spinner__Container");if(!a.hasClass("show")&&parseInt(e.navParams.NavPageNomer)<parseInt(e.navParams.NavPageCount)){var s=t(e).scrollTop(),n=s+t(e).height(),o=a.offset().top;o+a.height()<=n&&o>=s&&i.loadMoreItems()}}))},getActiveOfferId:function(){return this.activeProductContainer.find(this.catalogProductListItemAddBtn).attr("data-scu")||null},getProductPrice:function(t){return this.offers[t].price||null},getColorName:function(t){return this.offers[t].colorPattern.name||null},getProductPictures:function(t){return this.offers[t].pictures||null},getSmallPaletteOffers:function(){var a=[];if(null!=this.activeProductContainer)return this.activeProductContainer.find(this.catalogProductListItemColor).each((function(e,i){a[e]=t(this).attr("data-scu")})),a},setProductContainer:function(a){this.activeProductContainer=t(this.catalogProductListItem+'[data-id="'+a+'"]')||null},setActiveOffer:function(t,a,e){this.setProductContainer(t),this.setActiveOfferId(a),this.setColorName(a,e),this.changeProductPicture(a,"color_select"),this.setProductPrice(a),this.setProductLabels(a),this.checkOfferAvail(a)},setActiveOfferId:function(t){var a=this.activeProductContainer;a.find(this.catalogProductListItemAddBtn).attr("data-scu",t),a.find(this.catalogProductListItemNotAvail).attr("data-scu",t),this.activeOfferId=t},setProductPrice:function(t){if(void 0!==this.offers[t].price){var a=this.activeProductContainer,e=this.offers[t].price,i=(e.base,e.baseFormat),s="",n="";e.sale&&e.sale<e.base&&(e.sale,e.base,e.discount,i=e.saleFormat,s=e.baseFormat,n=e.discountFormat),a.find(this.catalogProductListItemPrice).html(i),a.find(this.catalogProductListItemOldPrice).html(s),a.find(this.catalogProductListItemDisc).html(n)}},setProductLabels:function(t){var a=this.activeProductContainer;null==this.offers[t].html_labels?a.find(this.labelContainer).html(""):a.find(this.labelContainer).html(this.offers[t].html_labels)},setColorName:function(t,a){var e=this.getColorName(t);null!==e&&this.activeProductContainer.find(a).text(e)},setProductPicture:function(t,a){null!==a&&t.attr("src",a)},checkOfferAvail:function(t){var a=this.activeProductContainer;this.offers[t].avail?(a.find(this.catalogProductListItemAddBtn).show(),a.find(this.catalogProductListItemNotAvail).hide()):(a.find(this.catalogProductListItemAddBtn).hide(),a.find(this.catalogProductListItemNotAvail).show())},changeProductPicture:function(t,a){var e=this.getProductPictures(t),i=this.activeProductContainer.find(this.catalogProductListItemImg+" img");"hover_on"===a?this.setProductPicture(i,e.secondPicture):"hover_off"===a?this.setProductPicture(i,e.firstPicture):"color_select"===a&&this.setProductPicture(i,e.secondPicture)},shiftSmallPaletteOffers:function(){var t=this.getSmallPaletteOffers();if(t.length&&null!=this.activeOfferId){this.smallPaletteOffers=[],this.smallPaletteOffers[0]=this.activeOfferId;var a=1,e=!1;for(var i in t)i>0&&(this.activeOfferId!==t[i-1]||e||(e=!0,a=0),this.smallPaletteOffers[i]=t[i-a])}},shiftSmallPalette:function(){var a=this;null!=this.activeProductContainer&&(this.smallPaletteOffers.length&&(this.activeProductContainer.find(this.catalogProductListItemColor).each((function(e,i){var s=a.smallPaletteOffers[e],n=a.offers[s].colorPattern.picture;if(t(this).attr("data-scu",s).find("img").attr("src",n),0===e){t(this).addClass("active");a.offers[s].colorPattern.name;a.setColorName(s,a.catalogProductListItemColorName)}0!==e&&t(this).removeClass("active")})),this.smallPaletteOffers=[]))},loadMoreItems:function(){var i=parseInt(e.navParams.NavPageNomer)+1;t(".Spinner__Container").addClass("show");var n={};n["PAGEN_"+e.navParams.NavNum]=i,t.ajax({type:"GET",url:e.location.href,data:n,dataType:"json",success:function(n){t(".Listing.js-listing").append(n.items),t(".Spinner__Container").removeClass("show"),e.navParams.NavPageNomer=""+i,new a.c(".js-preview-product-slider",{modules:[a.a,a.b],slidesPerView:1,spaceBetween:10,pagination:{el:".product-card--mobile .swiper-pagination"}}),s()}})}})}(window),new a.c(".js-preview-product-slider",{modules:[a.a,a.b],slidesPerView:1,spaceBetween:10,pagination:{el:".product-card--mobile .swiper-pagination"}}),s()}).call(this,e(1))}});