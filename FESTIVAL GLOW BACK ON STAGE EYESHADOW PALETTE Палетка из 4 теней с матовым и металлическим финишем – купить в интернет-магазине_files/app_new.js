!function(t){function e(e){for(var i,o,d=e[0],r=e[1],l=e[2],u=0,p=[];u<d.length;u++)o=d[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);for(c&&c(e);p.length;)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,d=1;d<a.length;d++){var r=a[d];0!==n[r]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={0:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var d=window.webpackJsonp=window.webpackJsonp||[],r=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var c=r;s.push([29,1]),a()}({25:function(t,e,a){"use strict";function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}a.d(e,"a",(function(){return n}));var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elemWrapper=e,this.elemDay=e.find(".js-elem-day"),this.selectedDay="",this.elemMonth=e.find(".js-elem-month"),this.selectedMonth="",this.elemYear=e.find(".js-elem-year"),this.selectedYear="",this.isLeapYear=!1,this.isDateError=!1,this.errorMsg=""}var e,a,n;return e=t,(a=[{key:"createEventListeners",value:function(){this.elemDay[0].addEventListener("change",this.dayChanged(this)),this.elemMonth[0].addEventListener("change",this.monthChanged(this)),this.elemYear[0].addEventListener("change",this.yearChanged(this))}},{key:"destroy",value:function(){this.elemDay[0].removeEventListener("change",this.dayChanged),this.elemMonth[0].removeEventListener("change",this.monthChanged),this.elemYear[0].removeEventListener("change",this.yearChanged)}},{key:"dayChanged",value:function(t){return function(e){t.selectedDay=+e.target.value,t.checkDayError()}}},{key:"monthChanged",value:function(t){return function(e){t.selectedMonth=+e.target.value,t.checkDayError()}}},{key:"yearChanged",value:function(t){return function(e){t.selectedYear=+e.target.value,""!==t.selectedYear?t.isLeapYear=!(t.selectedYear%4||!(t.selectedYear%100)&&t.selectedYear%400):t.isLeapYear=!1,t.checkDayError()}}},{key:"checkDayError",value:function(){this.isDateError=!1;var t=0===this.selectedDay?"":this.selectedDay,e=0===this.selectedMonth?"":this.selectedMonth,a=0===this.selectedYear?"":this.selectedYear;if(""===t&&""===e&&""===a)return this.isDateError=!1,void this.toggleError();if(""===t||""===e||""===a)return this.isDateError=!0,this.errorMsg="Дата заполненна не полностью",void this.toggleError();switch(e){case 4:case 6:case 9:case 11:t>30&&(this.isDateError=!0);break;case 2:(this.isLeapYear&&t>29||!this.isLeapYear&&t>28)&&(this.isDateError=!0);break;default:this.isDateError=!1}this.errorMsg="Несуществующая дата",this.toggleError()}},{key:"toggleError",value:function(){this.isDateError?(this.elemWrapper.closest("form").addClass("form-error"),this.elemWrapper.children(".error").remove(),this.elemWrapper.append('<label class="error">'+this.errorMsg+"</label>")):(this.elemWrapper.closest("form").removeClass("form-error"),this.elemWrapper.children(".error").remove())}}])&&i(e.prototype,a),n&&i(e,n),t}()},29:function(t,e,a){a(30),t.exports=a(63)},30:function(t,e,a){"use strict";a.r(e),function(t,e){a(1);var i=a(3),n=a.n(i),s=a(17),o=a.n(s),d=a(4),r=a.n(d),l=a(18),c=a.n(l),u=a(19),p=a.n(u),f=a(26),h=a(20),v=a.n(h),m=a(5),g=a.n(m),w=a(21),_=a.n(w),C=a(22),b=a.n(C),y=(a(33),a(34),a(35),a(36),a(37),a(39),a(41),a(42),a(62),a(25));e.jQuery=t,e.$=t;var k,x,j="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",S="f9145577bad35c7606cbdd84d012ff8ae653bc77";String.prototype.trimEnd||(String.prototype.trimEnd=function(){return this.replace(new RegExp(/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/.source+"$","g"),"")}),t("[data-more-shades]").on("click",(function(){t("[data-more-shades]").toggleClass("closed"),t(".js-shadelist-carousel").toggleClass("collapsed")})),t(window).on("load",(function(){!function(){var e=t(".CarouselReviews__Box section p"),a='<button class="btn-more hide" data-btn-more>Показать больше</button>',i=t(window).width();if(!(null==e?void 0:e.length))return!1;i>959?e.each((function(){if(t(this).height()>121){var e=t(this),i=e.parent();e.addClass("hide"),i.addClass("free"),i.append(a),n(i.find(t("[data-btn-more]"))),setTimeout((function(){s()}),1500)}})):i<959&&setTimeout((function(){e.each((function(){if(t(this).height()>70){var e=t(this),i=e.parent();e.addClass("hide"),i.addClass("free"),i.append(a),n(i.find(t("[data-btn-more]"))),s()}}))}),1500);function n(e){e.on("click",(function(){var e=t(this);e.hasClass("hide")?(e.parent().find("p").removeClass("hide"),e.addClass("show"),e.removeClass("hide"),e.text("Свернуть")):(e.parent().find("p").addClass("hide"),e.addClass("hide"),e.removeClass("show"),e.text("Показать больше"))}))}function s(){t(".Carousel--Reviews button.slick-arrow").on("click",(function(){var e=t(".CarouselReviews__Box section .btn-more"),a=t(".CarouselReviews__Box section p");e.removeClass("show"),e.addClass("hide"),e.text("Показать больше"),a.addClass("hide")}))}}(),t("[data-slick]").each((function(){initSlickSlider(t(this))}))})),window.initSlickSlider=function(e){var a=t.parseJSON(e.attr("data-slick")),i=parseInt(e.attr("data-br"))||0,n=e.attr("data-max-res"),s=e.attr("data-min-res"),o=t(window).width();e.on("init",(function(e,a){t(".js-product-images").each((function(){var e=t(this),a=e.find(".ProductImages__Item"),i=e.find(".slick-dots li");a.each((function(){var e=t(this),a=e.attr("data-img-url"),n=e.parents(".slick-slide").index();i.eq(n).find("button").append('<img src="'+a+'" alt="">')}))}))})),i>0?(n&&o<i&&e.slick(a),s&&o>=i&&e.slick(a)):n?e.hasClass("js-shadelist-carousel")&&o<768&&e.slick(a):(e.on("init",(function(t,a,i,n){e.find(".slick-active").addClass("caption-in")})),e.on("beforeChange",(function(t,a,i,n){e.find(".slick-slide").removeClass("caption-in"),e.find(".slick-slide").eq(n).addClass("caption-in")})),e.slick(a))},t(".Carousel--Reviews").on("init",(function(){t(this).css({visibility:""})})),t(document).ready((function(){n()(),o()();t(".js-product-images").on("afterChange",(function(){b("imageZoom")})),t("body").append('<div data-component="Backdrop" class="GlobalBackdrop" data-boilerplate-active="true"></div>'),window.onload=function(){g.a.setup();window.requestAnimationFrame((function t(){g.a.update(window.scrollY),window.requestAnimationFrame(t)}))},t(".js-megamenu-trigger, .js-megamenu-close").click((function(){var e=t("#megamenu"),a=t("html");t("header").toggleClass("z-index-up"),e.toggleClass("open"),a.toggleClass("menu-open"),e.attr("data-sub-opened","false")})),t("[data-submenu]").click((function(e){var a=t(this),i=t("#megamenu"),n=a.attr("data-submenu"),s=t("[data-subpanel=".concat(n,"]"));i.attr("data-sub-opened","true"),t("[data-subpanel]").attr("visually-hidden","true"),s.removeAttr("visually-hidden"),e.preventDefault()}));var e=t(".js-search-layer"),a=t(".js-search-input"),i=t(".js-search-trigger"),s=t(".js-form-input");function d(a){t("body").addClass("search-open"),t.magnificPopup.open({items:{src:"#popup-search",type:"inline"},alignTop:!0,midClick:!0,closeMarkup:'<button title="%title%" type="button" class="vex-close mfp-close popup__close"></button>',removalDelay:500,overflowY:"hidden",callbacks:{beforeOpen:function(){this.st.mainClass="mfp-zoom-in vex SearchLayer js-search-layer",t("html").addClass("vex-open")},open:function(){e.find(".vex-content").css({top:"143px"}),e.removeAttr("tabindex"),setTimeout((function(){return t("#popup-search .js-search-input").focus()}),100)},close:function(){t("html").removeClass("vex-open"),t("body").removeClass("search-open"),a.focus()}}})}i.on("click",(function(e){e.preventDefault();var a=t(this),i=a.val();a.closest("#popup-search").length>0||(d(t(this)),t.get("/ajax/search.php?ajax_reload=Y&q="+i).done((function(e){t(".js-search-content").html(e)})))}));var l=!1;s.on("submit",(function(e){t(this).find(".js-search-input").val().trim().length<3&&e.preventDefault()})),a.on("input",(function(){l&&(clearTimeout(l),l=!1);var e=t(this),i=e.val(),n=e.closest("#popup-search").length>0;a.val(i),i.length>2?l=setTimeout((function(){t.get("/ajax/search.php?ajax_reload=Y&q="+i).done((function(e){t(".js-search-content").html(e),n||d(t(this))}))}),500):(clearTimeout(l),l=!1)})),t("[data-close-submenu]").click((function(){t("#megamenu").attr("data-sub-opened","false"),t("[data-subpanel]").attr("visually-hidden","true")}));var u=t("[data-popup]");u.each((function(){if("select-time-popup"===u.data("popup"))return!0;initPopup(t(this))})),t(".js-accordion-trigger").click((function(){t(this).parent().toggleClass("is-visible")})),t('[type="tel"]').each((function(){var e=t(this).attr("id"),a=document.querySelector("#"+e);c()(a,{separateDialCode:!0,initialCountry:"ru",onlyCountries:["ru"]})})),t(".CustomSelect select").each((function(){var e=t(this).attr("id"),a=document.querySelector("#"+e);new p.a(a,{classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}})})),t("[data-collapse-handler]").click((function(){var e=t(this),a=e.next();e.toggleClass("not-collapsed"),e.toggleClass("collapsed"),a.slideToggle(300)})),t.validator.addMethod("phone",(function(t){return/\([0-9]{3}\)\s[0-9]{3}-[0-9]{2}-[0-9]{2}/.test(t)}),"Пожалуйста, заполните поле"),t.validator.addMethod("conf_new_password",(function(e){return e==t('input[name="NEW_PASSWORD"]').val()}),"Пароли не совпадают"),t.validator.addMethod("password",(function(t){return/^[A-Za-z0-9\d=!\-@._*]*$/.test(t)&&function(t,e){return t.length>=e}(t,6)&&/\d/.test(t)}),"Пароль должен содержать не менее 6 символов и включать 1 цифру"),t.validator.addMethod("regex",(function(t,e,a){return a.test(t)})),t.validator.addMethod("complete",(function(e,a){return t(a).hasClass("complete")})),t.validator.addMethod("found",(function(e,a){return t(a).hasClass("found")})),t("[data-validate]").each((function(){var e=t(this);if("Y"===e.data("init"))return!0;e.data("init","Y");var a=e.validate({errorElement:"label",errorClass:"error",submitHandler:function(e){var i=t(e),n=i.attr("name"),s=i.attr("action");if("regform"===n){t(e).find('[name="REGISTER[LOGIN]"]').val(t(e).find('[name="REGISTER[EMAIL]"]').val());var o=i.find('[name="birthDateDay"] option:selected').val().trim(),d=i.find('[name="birthMonthDay"] option:selected').val().trim(),r=i.find('[name="birthYearDay"] option:selected').val().trim();return o&&d&&r&&i.find('[name="REGISTER[PERSONAL_BIRTHDAY]"]').val(o+"."+d+"."+r),BX.showWait(),"Y"===i.find('input[name="checkcode"]').val()?(e.submit(),!1):(t.post("/ajax/authcard.php",{sessid:BX.bitrix_sessid(),action:"sendcode",name:i.find('[name="REGISTER[NAME]"]').val(),last_name:i.find('[name="REGISTER[LAST_NAME]"]').val(),phone:"+7 "+i.find('[name="REGISTER[PERSONAL_PHONE]"]').val(),email:i.find('[name="REGISTER[EMAIL]"]').val()},(function(e){if(BX.closeWait(),"ERROR"===e.RESULT)if("spam"!==e.MESSAGE)e.MESSAGE||(e.MESSAGE="К сожалению, произошла ошибка. Повторите попытку позже."),"emailError"===e.TYPE?openModal("duplicateUser"):(t("#errorMessage").find("[data-error-text]").text(e.MESSAGE),openModal("errorMessage"));else{var n={};n["REGISTER["+e.FIELD+"]"]="Зарегистрирована попытка нечестной регистрации",a.showErrors(n)}else{var s=t("#registerCardForm"),o=i.find('[name="REGISTER[PERSONAL_PHONE]"]').val(),d=i.find('[name="REGISTER[EMAIL]"]').val();s.find(".check-phone").html(o),s.find(".check-email").html(d),openModal("registerCard")}}),"json"),!1)}if("register-card"===n)return BX.showWait(),t.ajax({type:"POST",url:s,data:i.serializeArray(),dataType:"json",success:function(e){BX.closeWait();var i={},n=!1;if(e.CHECK.phone||(n=!0,i.phone_code="Неверный код подтверждения"),e.CHECK.email||(n=!0,i.email_code="Неверный код подтверждения"),a.showErrors(i),!n){var s=t('[name="regform"]');s.append('<input type="hidden" name="checkcode" value="Y">'),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"registration",eventLabel:"success"}),s.find('input[name="reg_card_check"]:checked').length&&e.CARD_NUMBER?(t("#registerCardLink").find("[data-card-number]").text("№"+e.CARD_NUMBER),openModal("registerCardLink"),t("#registerCardLink .popup__close").off("click").on("click",(function(){t('[data-component="Backdrop"]').addClass("show"),t('[name="regform"]').submit()}))):(t.magnificPopup.close(),s.submit())}}}),!1;if("register-card-link"===n)return BX.showWait(),t.ajax({type:"POST",url:s,data:i.serializeArray(),dataType:"json",success:function(){BX.closeWait(),t.magnificPopup.close(),t('[name="regform"]').submit()}}),!1;if("ORDER_FORM"===n)return!!checkAddErrors()&&(t("#WRAP_ID_DELIVERY_ID_15").hasClass("active")&&t(".delivery-place-select").hasClass("none")||window.isStartAjaxOrderUpdate||(window.orderProcess=!0,blocksShow(),sendForm()),!1);if("ORDER_CONFIRM"===n){BX.showWait();var l=t("#order_confirm"),c=l.find('form[name="ORDER_CONFIRM"]');return c.find('input[name="action"]').val("check"),l.find("[data-confirm-order-init-success]").show(),l.find("[data-confirm-order-init-error]").hide(),l.find("[data-confirm-order-error-text]").hide(),t.ajax({type:"POST",url:c.attr("action"),data:c.serializeArray(),dataType:"json",success:function(e){BX.closeWait(),"ok"===e.status?(t.magnificPopup.close(),window.orderProcess=!0,blocksShow(),sendForm()):e.message?a.showErrors({code:e.message}):(l.find("[data-confirm-order-init-success]").hide(),l.find("[data-confirm-order-init-error]").show())}}),!1}if("POPUP_REVIEW_FORM"===n){BX.showWait();return t.ajax({url:"/bitrix/services/main/ajax.php?"+t.param({c:"jamilco:reviews",action:"add",mode:"class"},!0),type:"POST",data:i.serializeArray(),dataType:"json",success:function(t){var e=i.closest("#popup-review");"success"===t.status&&t.data.success?(e.find(".Reviews__Write__Message").html(t.data.message).removeClass("hidden"),e.find("#reviewPopupForm").addClass("hidden"),e.find(".Reviews__Write__Close").addClass("hidden")):null!==t.data.errors&&i.closest("#popup-review").find(".Reviews__Write__Message").removeClass("hidden").html(t.data.errors.join("<br>")),BX.closeWait()},error:function(){BX.closeWait()}}),!1}return!1!==i.data("disable-submit")&&e.submit(),!1},invalidHandler:function(e,a){if(a.numberOfInvalids()){var i=t(a.errorList[0].element),n=i.offset().top;"radio"===i.attr("type")?t("html, body").animate({scrollTop:n-79-55},500):t("html, body").animate({scrollTop:n-79-10},500)}e.preventDefault()},rules:{ORDER_PROP_23:{complete:!0,minlength:3},ORDER_PROP_24:{complete:!0,found:!0}},messages:{ORDER_PROP_23:{complete:"Пожалуйста, заполните поле"},ORDER_PROP_24:{complete:"Пожалуйста, заполните поле",found:"Дом не найден - проверьте адрес"}}});e.find("input").bind("keyup blur click",(function(){"ORDER_FORM"===e.attr("id")||"reviewForm"===e.attr("id")||e.hasClass("js-enabled-submit")||(e.validate().checkForm()?e.find("button").prop("disabled",!1):e.find("button").prop("disabled",!0))})),e.find("textarea").bind("keyup blur click",(function(){"ORDER_FORM"===e.attr("id")||"reviewForm"===e.attr("id")||e.hasClass("js-enabled-submit")||(e.validate().checkForm()?e.find("button").prop("disabled",!1):e.find("button").prop("disabled",!0))}))})),t.validator.addClassRules=function(e,a){if(e.constructor===String){var i={};i[e]=a,e=i}t.each(e,(function(e,a){t("."+e).each((function(e,i){t(i).rules("add",a)}))}))},t.validator.addClassRules({"js-valid-name":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z -]+$/,normalizer:function(t){return t.trimEnd()},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-second-name":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z -]+$/,normalizer:function(t){return t.trimEnd()},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-patronymic":{required:!0,regex:/^[а-яёА-ЯЁa-zA-Z]+$/,normalizer:function(e){return t.trim(e)},messages:{required:"Пожалуйста, заполните поле",regex:"Пожалуйста, заполните поле"}},"js-valid-phone":{required:!0,phone:!0,messages:{required:"Пожалуйста, заполните поле"}},"js-valid-email":{required:!0,email:!0,normalizer:function(e){return t.trim(e)},messages:{required:"Пожалуйста, заполните поле",email:"Пожалуйста, заполните поле"}},"js-valid-pass":{required:!0,password:!0,messages:{required:"Пожалуйста, заполните поле"}},"js-valid-pass_confirm":{required:!0,equalTo:".js-valid-pass",messages:{equalTo:"Пароли не совпадают"}}}),t("input").on("keyup",(function(){var e=t(this);e.val().length>0?e.closest(".form-group").addClass("floatl--focused"):e.closest(".form-group").removeClass("floatl--focused")})),t("input").on("keyup",(function(){var e=t(this);setTimeout((function(){"cardName"!==e.attr("id")&&"checkCode"!==e.attr("id")&&"promo"!==e.attr("id")?e.val().trim().length>0?e.hasClass("error")?(e.closest(".form-group").removeClass("floatl--active"),e.closest(".form-group").addClass("floatl--focused")):(e.closest(".form-group").addClass("floatl--active"),e.closest(".form-group").removeClass("floatl--focused")):(e.closest(".form-group").removeClass("floatl--active"),e.closest(".form-group").removeClass("floatl--focused")):e.val().trim().length>0?(e.closest(".form-group").addClass("floatl--focused"),e.closest(".form-group").removeClass("floatl--active")):(e.closest(".form-group").removeClass("floatl--focused"),e.closest(".form-group").removeClass("floatl--active"))}),100)})),t(document).keypress((function(e){var a=t(e.target);a.hasClass("error")||13==e.keyCode&&(a.hasClass("form-control")||a.hasClass("floatl__input"))&&(a.closest(".form-group").next().find("input").focus(),e.preventDefault())}));var h,m=document.querySelectorAll("input[type=tel]");function w(t,e){t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("active"),t.attr("aria-expanded",!1))}r()({mask:"(999) 999[-99][-99]",clearMaskOnLostFocus:!0,placeholder:"",showMaskOnHover:!1,showMaskOnFocus:!0,greedy:!1}).mask(m),r()({alias:"datetime",inputFormat:"dd.mm.yyyy"}).mask(document.querySelectorAll("input[data-date=Y]")),Object(f.a)("[data-tippy-content]",{allowHTML:!0,animateFill:!0,animation:"shift-away",aria:"describedby",arrow:!1,duration:[325,275],followCursor:!1,hideOnClick:!0,inertia:!0,maxWidth:350,placement:"top",role:"tooltip",showOnCreate:!1,sticky:!1,theme:"dark",touch:!0,trigger:"mouseenter focus",triggerTarget:null,zIndex:9999}),t(document).on("click","[aria-pressed]",(function(){!function(e,a){var i=e.closest("[data-target]"),n=e.closest('[data-component="ProductBox"]'),s=e.attr("data-secondary-image"),o=e.attr("data-main-image"),d=e.attr("data-variant-url"),r=e.attr("data-index"),l=e.attr("data-discount"),c=e.attr("data-old-price"),u=e.attr("data-price-value"),p=e.attr("data-price"),f=e.attr("data-code"),h=e.attr("data-available"),v=e.attr("data-scu"),m=e.children().attr("style");n.find(".ProductBox__Content .js-new-price").text(p),n.find(".ProductBox__Content .js-addtocart").toggleClass("hidden","N"===h),n.find(".ProductBox__Content .js-notify").toggleClass("hidden","Y"===h),null!=l?n.find(".ProductBox__Content .js-perc").length?n.find(".ProductBox__Content .js-perc").text(l):n.find(".ProductBox__Content .js-price").prepend('<span class="Price__Discount js-perc"><strong>'+l+"</strong></span>"):n.find(".ProductBox__Content .js-perc").remove();null!=c?n.find(".ProductBox__Content .js-old-price").length?n.find(".ProductBox__Content .js-old-price").text(c):n.find(".ProductBox__Content .js-price").append('<del class="Price__Old js-old-price">'+c+"</del>"):n.find(".ProductBox__Content .js-old-price").remove();n.find("[aria-pressed]").attr("aria-pressed",!1),n.find(".js-pb-image1").attr("src",o),n.find(".js-pb-image2").attr("src",s),t.ajax({type:"POST",url:"/ajax/getImages.php",data:{id:v},dataType:"json",success:function(e){if("ok"===e.status){var a=n.find(".js-hover-card-slider"),i=n.find(".js-preview-product-slider").find(".swiper-wrapper"),s="",o="";t.each(e.images,(function(t,e){s+='<li data-src-img="'+e.src+'" data-img-id="'+t+'"></li>',o+='<div class="swiper-slide"><img src="'+e.src+'" alt=""></div>'})),t(a).html(s),t(i).html(o),i[0].swiper&&i[0].swiper.update()}}}),a?(a.children().attr("style",m),a.attr("data-secondary-image",s),a.attr("data-main-image",o),a.attr("data-variant-url",d),a.attr("data-index",r),a.attr("data-discount",l),a.attr("data-old-price",c),a.attr("data-price-value",u),a.attr("data-price",p),a.attr("data-code",f),a.attr("aria-pressed",!0)):e.attr("aria-pressed",!0);i.find("[data-close]").click()}(t(this))})),t(document).on("click","[data-open]",(function(){h=window.scrollY,t(this).parent().find("[data-target]").attr("data-opened",!0),t("body").addClass("mobile-fixed")})),t(document).on("click","[data-close]",(function(){t("body").removeClass("mobile-fixed"),t(this).closest("[data-target]").attr("data-opened",!1),window.scrollTo(0,h)})),t('[data-component="Tabs"]').find("button[data-target-panel]").click((function(){var e=t(this),a=e.parent(),i=e.closest('[data-component="Tabs"]').find(".Tab__Body__Content"),n=e.index();a.children().removeClass("active"),i.removeClass("active fade"),e.addClass("active"),i.eq(n).addClass("active fade")})),t('[data-component="Tabs"]').find("button[data-button-panel]").click((function(e){var a=t(this),i=a.closest('[data-component="Tabs"]'),n=a.attr("data-button-panel");a.toggleClass("active"),i.find("#"+n).toggleClass("active"),e.preventDefault()})),t(window).resize((function(){t(".ProductInfo__Tab").find("[data-target-panel]").removeClass("active"),t(".ProductInfo__Tab").find("[data-target-panel]").eq(0).addClass("active"),t(".ProductInfo__Tab").find("[data-button-panel]").removeClass("active"),t(".ProductInfo__Tab").find("[data-button-panel]").eq(0).addClass("active"),t(".ProductInfo__Tab").find("[data-tab-panel]").removeClass("active fade"),t(".ProductInfo__Tab").find("[data-tab-panel]").eq(0).addClass("active fade")})),t('[data-component="Quantity"]').each((function(){var e=t(this),a=e.find("input"),i=e.find(".Minus"),n=e.find(".Plus"),s=parseInt(a.attr("data-limit"));n.click((function(){var t=a,e=t.val();e<s?e++:n.attr("disabled",!0),i.attr("disabled",!e),t.val(e)})),i.attr("disabled",!a),i.click((function(){var t=a,e=t.val();e>1?(e--,t.val(e)):i.attr("disabled",!0),n.attr("disabled",!e)})),a.on("change keyup focus",(function(){var e=this,a=t(this).val().replace(/[^0-9]/g,"");t(this).val(a),setTimeout((function(){t(e).val()>s&&t(e).val(s)}),1e3)}))})),t(document).on("click",".js-shade-dropdown, .js-basket-shade-dropdown",(function(){var e=t(this);e.toggleClass("active"),t("html").toggleClass("select-open"),e.hasClass("active")?e.attr("aria-expanded",!0):e.attr("aria-expanded",!1)})),t(document).on("click",".js-shadelist-carousel .js-shade",(function(){var e=t(this),a=e.attr("data-value"),i=e.children().attr("style"),n=e.attr("data-name"),s=t(".js-shadelist-carousel .js-shade"),o=t(".js-shade-dropdown .js-dropdown-trigger"),d=t(".js-shade-dropdown .js-dropdown-list"),r=t(".js-product-images"),l=e.attr("data-available"),c=e.attr("data-price"),u=e.attr("data-old-price"),p=e.attr("data-discount"),f=parseInt(e.attr("data-scu"));o.attr("data-value",a),o.children(".js-shade-img").attr("style",i),o.children(".OptionText").text(n),d.find(".js-shade-dropdown-option").attr("data-selected","false"),d.find('[data-value="'+a+'"]').attr("data-selected","true"),s.attr("aria-pressed","false"),e.attr("aria-pressed","true"),t(".js-addtocart").toggleClass("hidden","N"===l),t(".js-notify").toggleClass("hidden","Y"===l),t(".js-new-price").html(c),t(".js-old-price").html(u).toggleClass("hidden",0===u.length),t(".js-perc").toggleClass("hidden",0===p.length).find("strong").html(p),t(".js-new-price-mob").html(c),t(".js-old-price-mob").html(u).toggleClass("hidden",0===u.length),t(".js-perc-mob").toggleClass("hidden",0===p.length).html(p);for(var h=JS_OBJ.OFFERS[f].MORE_PHOTO.FULL,v=0;v<h.length;v++){var m=h[v];r.find(".slick-slide").eq(v).find("[data-img-url]").attr("data-img-url",m),r.find(".slick-slide").eq(v).find("[data-zoom-img]").attr("data-zoom-img",m),r.find(".slick-slide").eq(v).find('meta[itemprop="image"]').attr("content",m),r.find(".slick-slide").eq(v).find(".js-product-image").attr("data-original",m),r.find(".slick-slide").eq(v).find(".js-product-image").attr("data-src",m),r.find(".slick-slide").eq(v).find(".js-product-image").attr("src",m),r.find(".slick-slide").eq(v).find(".js-product-image").next().attr("src",m),r.find(".slick-dots li").eq(v).find("img").attr("src",m),b("imageZoom")}if(JS_OBJ&&JS_OBJ.OFFERS&&f&&JS_OBJ.OFFERS[f]){var g="";if(JS_OBJ.OFFERS[f].ACTIONS)for(var w in JS_OBJ.OFFERS[f].ACTIONS)JS_OBJ.OFFERS[f].ACTIONS.length>1?g+='<a class="Tag Tag--hit" href="/promotions/'+JS_OBJ.OFFERS[f].ACTIONS[w].CODE+'/" data-label-code="hit" data-color="hit">'+JS_OBJ.OFFERS[f].ACTIONS[w].NAME+"</a>":JS_OBJ.OFFERS[f].ACTIONS.length&&(g+='<span class="Tag Tag--hit" data-label-code="hit" data-color="hit">'+JS_OBJ.OFFERS[f].ACTIONS[w].NAME+'</span><a href="/promotions/'+JS_OBJ.OFFERS[f].ACTIONS[w].CODE+'/" class="link">Подробнее об акции</a>');t("[data-actions-list]").html(g)}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_item",value:parseFloat(c),items:[{id:parseInt(e.data("scu")),google_business_vertical:"retail"}]})})),t(document).on("click",".js-shade-dropdown .js-shade-dropdown-option",(function(){var e=t(this),a=e.attr("data-value"),i=a;e.is("[data-scu]")&&(i=e.attr("data-scu"));var n=e.children().attr("style"),s=e.attr("data-name"),o=e.closest(".SelectShades").find(".js-dropdown-trigger"),d=e.closest(".SelectShades").find(".js-dropdown-list");o.attr("data-value",a),o.children(".js-shade-img").attr("style",n),o.children(".OptionText").text(s),d.find(".js-shade-dropdown-option").attr("data-selected","false"),d.find('[data-value="'+a+'"]').attr("data-selected","true"),t(".js-shadelist-carousel").find('.js-shade[data-value="'+a+'"]').trigger("click"),e.closest(".js-productbar").find(".js-addtocart").attr("data-product-id",i)})),t(document).on("click",".js-basket-shade-dropdown .js-shade-dropdown-option",(function(){var e=t(this),a=e.attr("data-value"),i=e.children().attr("style"),n=e.attr("data-name"),s=e.closest(".SelectShades").find(".js-basket-shade-dropdown .js-dropdown-trigger"),o=e.closest(".SelectShades").find(".js-basket-shade-dropdown .js-dropdown-list");s.attr("data-value",a),s.children(".js-shade-img").attr("style",i),s.children(".OptionText").text(n),o.find(".js-shade-dropdown-option").attr("data-selected","false"),o.find('[data-value="'+a+'"]').attr("data-selected","true")})),t(document).on("click",".js-shade",(function(){var e=t(this).data("scu")||0,a=t(this).data("name")||"",i=t(this).data("colorName")||"",n=t(this).closest(".js-product-detail, .js-productbox"),s=t(this).data("gift-qty")||1,o=t(this).data("gift-rule")||"";if(n.length&&e&&(window.selectedOffer=t(this).attr("data-code"),n.find(".js-addtocart").attr("data-product-id",e).data("product-id",e),n.find(".js-notify").attr("data-product-id",e).data("product-id",e),n.find(".js-notify").attr("data-article",a).data("article",a),n.find(".FindInStore__Action").attr("data-article",window.selectedOffer).data("article",window.selectedOffer),n.find(".js-notify").attr("data-color",i).data("color",i),n.find("[data-add-gift]").attr("data-product-id",e).data("product-id",e),n.find("[data-add-gift]").attr("data-gift-qty",s).data("gift-qty",s),n.find("[data-add-gift]").attr("data-gift-rule",o).data("gift-rule",o),n.hasClass("js-product-detail"))){var d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.split("?"),n="";for(var s in a)n+=(n?"&":"")+a[s];if(void 0!==i[1]){var o=i[1].split("&");for(var d in o){var r=o[d].split("="),l=0;for(var c in e)if(-1!==r[0].indexOf(e[c])){l=1;break}l||(n+=(n?"&":"")+o[d])}}return n?i[0]+"?"+n:t}(window.location.href,["offer"],["offer="+window.selectedOffer]);history.pushState([],document.title,d)}})),t(".js-select-dropdown").click((function(){var e=t(this);e.toggleClass("active"),e.parent().toggleClass("active"),t("html").toggleClass("select-open"),e.hasClass("active")?e.attr("aria-expanded",!0):e.attr("aria-expanded",!1)})),t(".js-select-dropdown").each((function(){var e=t(this).find(".js-dropdown-option"),a=t(this).find(".js-dropdown-trigger-text");t(".js-product-images");e.click((function(){var i=t(this),n=i.children().first();e.removeClass("selected"),i.addClass("selected"),n.hasClass("ReviewIndicator")&&a.html('<div class="ReviewIndicator">'+n.html()+"</div>"),n.hasClass("uppercase")&&a.html('<span class="js-dropdown-trigger-text uppercase">'+n.html()+"</span>"),""==i.attr("data-value")&&a.html('<span class="js-dropdown-trigger-text ">'+i.text()+"</span>")}))})),t(document).mouseup((function(e){var a=t('[data-component="ShadeDropdown"]'),i=t(".js-select-dropdown");w(a,e),w(i,e)})),t(document).on("click",'[data-component="AddToWishlistAction"] button',(function(){var e=t(this),a=t("body"),i=t(this).attr("data-url")||"/auth/",n=encodeURIComponent("/personal/favorites/");if(a.hasClass("wishlist-enabled")){var s=e.closest(".Dropdown");0===s.length&&(s=e.closest(".rr-item__dropdown-wishlist"));var o=s.data("product-id"),d=s.data("product-name"),r=s.data("action"),l="Вы добавили в избранное";"del"===r&&(l="Вы удалили из избранного");var c={scu:o,action:r,ajax:"Y"};t.ajax({type:"GET",url:"/ajax/favorites.php",data:c}).done((function(){t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-success  cart   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave " role="presentation" height="120" width="120"><use xlink:href="#wave"><svg id="wave" viewBox="0 0 176.43 24"><title></title><path d="M88.21 24h85c-23 0-31.29-2.41-52-13-22.5-11.5-33-11-33-11s-10.5-.5-33 11c-20.71 10.59-29 13-52 13z" fill="#e0e9d5" data-name="Layer 2"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon check-mark " role="presentation" height="20" width="20"><use xlink:href="#check-mark"><svg id="check-mark" viewBox="0 0 18 18"><title></title><path fill-rule="evenodd" d="M7.924 12.843l6.9-6.169a.497.497 0 000-.758l-.848-.759a.651.651 0 00-.849 0L7.5 10.187 4.873 7.84a.651.651 0 00-.849 0l-.848.759a.497.497 0 000 .758l3.9 3.487a.65.65 0 00.848 0z"></path></svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Ок</button></div><div class="GlobalNotification__Text text-center"><span data-qty="1"></span><div class="secondary">'+l+'</div><div class="primary">'+d+"</div></div>"+("del"==r?"":'<div class="GlobalNotification__ButtonRight">')+("del"===r?"":'<a class="Button" href="/personal/favorites/">Перейти в избранное</a>')+("del"===r?"":"</div>")+"</div></div></div></div>"),setTimeout((function(){t(".js-global-notification").addClass("show"),"del"===r&&s.closest(".ProductBox").addClass("hidden"),"add"===r&&"undefined"!=typeof ym&&ym(56642815,"reachGoal","Addtowishlist"),"add"===r&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"add_to_favorite"}),e.addClass("added"))}),100)}),"json")}else t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-error  icon-alert   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave-err " role="presentation" height="120" width="120"><use xlink:href="#wave-err"><svg id="wave-err" viewBox="0 0 170 24"><title></title><path d="M85 24h85c-23 0-31.29-2.41-52-13C95.5-.5 85 0 85 0S74.5-.5 52 11C31.29 21.59 23 24 0 24z" fill="#f6cfcf"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon tip " role="presentation" height="20" width="20"><use xlink:href="#tip"><svg id="tip" viewBox="0 0 20 20"><title></title><path fill-rule="evenodd" d="M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2.222a7.778 7.778 0 100 15.556 7.778 7.778 0 000-15.556zm.72 5.302v8.043H9.522V7.524h1.198zm.093-3.08v1.323H9.444V4.444h1.37z"></path></svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Отмена</button></div><div class="GlobalNotification__Text text-center"><div class="primary">Чтобы получить доступ к списку пожеланий, необходимо войти в систему или зарегистрироваться на сайте</div></div><div class="GlobalNotification__ButtonRight"><a class="Button " href="'+i+(n?"?backurl="+n:"")+'">Войти</a></div></div></div></div></div>'),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)})),t(document).on("click","[data-confirm-clear-favorites]",(function(){t.ajax({type:"GET",url:"/ajax/favorites.php",data:{action:"delAll"}}).done((function(){t.magnificPopup.close(),t(".js-clear-favorites-btn").remove(),t(".js-listing").empty(),t("body").append('<div class="GlobalNotification js-global-notification" aria-live="assertive"><div class="mod-notification mod-notification-success  cart   "><div class="container"><span class="GlobalNotification__Icon"><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave " role="presentation" height="120" width="120"><use xlink:href="#wave"><svg id="wave" viewBox="0 0 176.43 24"><title></title><path d="M88.21 24h85c-23 0-31.29-2.41-52-13-22.5-11.5-33-11-33-11s-10.5-.5-33 11c-20.71 10.59-29 13-52 13z" fill="#e0e9d5" data-name="Layer 2"></path></svg></use></svg><svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon check-mark " role="presentation" height="20" width="20"><use xlink:href="#check-mark"><svg id="check-mark" viewBox="0 0 18 18"><title></title><path fill-rule="evenodd" d="M7.924 12.843l6.9-6.169a.497.497 0 000-.758l-.848-.759a.651.651 0 00-.849 0L7.5 10.187 4.873 7.84a.651.651 0 00-.849 0l-.848.759a.497.497 0 000 .758l3.9 3.487a.65.65 0 00.848 0z"></path></svg></use></svg></span><div class="inner inner--center"><div class="GlobalNotification__ButtonLeft"><button aria-live="assertive" data-type="secondary" class="Button close">Ок</button></div><div class="GlobalNotification__Text text-center"><span data-qty="1"></span><div class="secondary">Вы удалили все товары из избранного</div></div></div></div></div></div>'),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)}),"json")})),t('[data-component="RequireLogin"]').click((function(){var e=t("body"),a=t(this).attr("data-primary-line"),i=t(this).attr("data-action")||"default",n=t(this).attr("data-url")||"/auth/",s=encodeURIComponent(t(this).attr("data-back-url"))||"";if(e.hasClass(i+"-enabled")){if("review"==i){t(".Reviews__Write .Reviews__Write__Close").trigger("click"),t(".Reviews__Write").removeClass("hidden");var o=t(".Reviews__Write").offset().top-88-60;t("html, body").animate({scrollTop:o},500)}}else{var d='<div class="GlobalNotification js-global-notification" aria-live="assertive">';d+='<div class="mod-notification mod-notification-error icon-alert">',d+='<div class="container"><span class="GlobalNotification__Icon">',d+='<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon wave-err" role="presentation" height="120" width="120">',d+='<use xlink:href="#wave-err"><svg id="wave-err" viewBox="0 0 170 24">',d+='<path d="M85 24h85c-23 0-31.29-2.41-52-13C95.5-.5 85 0 85 0S74.5-.5 52 11C31.29 21.59 23 24 0 24z" fill="#f6cfcf"></path></svg></use></svg>',d+='<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon tip " role="presentation" height="20" width="20">',d+='<use xlink:href="#tip"><svg id="tip" viewBox="0 0 20 20">',d+='<path fill-rule="evenodd" d="M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0zm0 2.222a7.778 7.778 0 100 15.556 7.778 7.778 0 000-15.556zm.72 5.302v8.043H9.522V7.524h1.198zm.093-3.08v1.323H9.444V4.444h1.37z"></path>',d+='</svg></use></svg></span><div class="inner"><div class="GlobalNotification__ButtonLeft">',d+='<button aria-live="assertive" data-type="secondary" class="Button close">Отмена</button></div>',d+='<div class="GlobalNotification__Text text-center"><div class="primary">'+a+"</div></div>",d+='<div class="GlobalNotification__ButtonRight"><a class="Button " href="'+n+(s?"?backurl="+s:"")+'">Войти</a></div>',d+="</div></div></div></div>",e.append(d),setTimeout((function(){t(".js-global-notification").addClass("show")}),100)}})),t(".js-close-review").on("click",(function(){"review"==(t('[data-component="RequireLogin"]').attr("data-action")||"default")&&(t(this).parent().hasClass("hidden")||t(this).parent().addClass("hidden"))})),t(document).on("click",".js-global-notification .Button.close",(function(){var e=t(this).closest(".js-global-notification").removeClass("show");setTimeout((function(){e.remove()}),100)})),t('[data-component="Show"]').children("button").click((function(){t(this).next().toggleClass("hide-element")}));var _=t('[data-component="ProductBar"]');function C(){t("[data-zoom-img]").each((function(e){var a=t(this),i=a.attr("id"),n=a.width(),s={width:n,height:n,offset:{vertical:0,horizontal:10},zoomPosition:"original"};new v.a(document.getElementById(i),s)}))}function b(e){t(".js-image-zoom__zoomed-area").remove(),t(".js-image-zoom__zoomed-image").remove(),t(window).width()>767&&C()}if(t(window).scroll((function(){_.length&&scroll()})),setTimeout((function(){t(window).width()>767&&C()}),500),t(window).resize((function(){t(window).width()>767&&(t(".js-zoom-img").removeAttr("style"),b())})),t(".js-minicart-catalyst").click((function(){t(this);var e=t('[data-component="MiniCart"]'),a=parseInt(t("[data-cart-count]").text());t(".js-global-notification").removeClass("show"),t(window).width()>768?(e.removeClass("force-hidden"),t("html").addClass("minicart-open"),setTimeout((function(){e.addClass("open")}),100)):a>0?window.location.href="/personal/cart/":(e.removeClass("force-hidden"),t("html").addClass("minicart-open"),setTimeout((function(){e.addClass("open")}),100))})),t(document).on("click","[data-button-minicart-close]",(function(){t("#minicart").toggleClass("open"),t("html").toggleClass("minicart-open")})),t("[data-cart-title]").click((function(){t(this).toggleClass("open"),t(this).parent().find("[data-cart-body]").slideToggle(300)})),t("[data-tabs-head]").children().click((function(){var e=t(this),a=e.closest("[data-tabs]").find("[data-tabs-body]"),i=e.index();e.parent().children().removeClass("active"),e.addClass("active"),a.children().removeClass("active"),a.children().eq(i).addClass("active")})),t('[data-component="Remove"]').click((function(){t(this).closest("[data-remove-item]").remove()})),t(document).on("click",".double-arrow-container",(function(){t(".Cart__Bottom-info").slideToggle(300),t(this).toggleClass("opened")})),t(document).on("scroll",(function(){t(".Cart__Bottom-info").slideUp(),t(".double-arrow-container").removeClass("opened")})),t(document).on("click",(function(e){e.target.closest(".Cart__Bottom")||(t(".Cart__Bottom-info").slideUp(),t(".double-arrow-container").removeClass("opened"))})),t('[data-component="FoundationFinder"]').length){var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.extend(e,{c:"jamilco:foundation.finder",mode:"class"}),t.extend(a,{SITE_ID:"s1",params:t("[data-ff-params]").data("ff-params")}),BX.showWait(),t.ajax({url:"/bitrix/services/main/ajax.php?"+t.param(e,!0),type:"POST",dataType:"json",data:a,success:function(e){"success"===e.status&&(t("[data-ff-container]").html(e.data),t("[data-mfp-src]").magnificPopup({type:"inline",midClick:!0}),t("[data-slider]").slick({centerMode:!0,slidesToShow:2,arrows:!1})),t.magnificPopup.close(),BX.closeWait()}})};t(document).on("click","[data-ff-button-start]",(function(t){t.preventDefault(),k({action:"start"})})),t(document).on("click","[data-ff-button-next]",(function(e){e.preventDefault();var a=t(this);a.hasClass("ff-button-filter--disabled")||k({action:"next"},{property:a.data("ff-property"),value:a.data("ff-value")})})),t(document).on("click","[data-ff-button-back]",(function(t){t.preventDefault(),k({action:"back"})})),t(document).on("click",".ff-button-filter--disabled",(function(e){var a=t(e.target).hasClass("ff-button-filter")?t(e.target):t(e.target).parents("button");t(a).find(".ff-tooltip").toggleClass("opened")})),t(document).on("click","[data-ff-button-detail]",(function(e){t("#detail-popup").find("a").attr("href",t(this).attr("href"))})),t(document).on("click","[data-ff-button-offer]",(function(e){e.preventDefault();var a=t(this),i=a.closest(".ff-product-card").find(".ff-product-card-details"),n=i.find("[data-ff-button-detail]");n.attr("href",n.data("product-link")+"?offer="+a.data("offer-code")),i.find(".ReviewIndicator").attr("href",n.attr("href")+"#reviews"),i.find(".ProductList__MainImg").attr("src",a.data("offer-img")),i.find(".Shade__Img").attr("style","background-image: url("+a.data("offer-color")+");"),i.find(".Shade__Description").text(a.data("offer-name")),i.find(".Button--AddToCart").attr("data-product-id",a.data("offer-id")),a.closest(".ProductDetails__ShadesActions").find(".Shade--selected").removeClass("Shade--selected"),a.addClass("Shade--selected")})),t(document).on("click","[data-ff-result-button-more]",(function(e){e.preventDefault(),t(".ff-other-results").addClass("show")})),t(document).on("click","[data-ff-result-button-less]",(function(e){e.preventDefault(),t(".ff-other-results").removeClass("show")}))}if(t(".js-show-try-it-frame").on("click",(function(){t(".js-try-it-view").hide(),t(".js-try-it-frame").show()})),initCatalogFilterSlider(),t('[data-component="PersonalAddresses"]').length){var x=function(){t("[data-location]").off("click").on("click",(function(e){e.preventDefault();var a=t(this),i=a.closest("form"),n=a.attr("data-location"),s=a.attr("data-id");i.find("[data-location-id]").val(s),i.find("[data-address-city]").val(n),i.find("[data-address-city]").next("label").hide()}))},j='\n            <div class="address-info address-info--checked" data-address-main>\n                <a>основной адрес</a>\n            </div>',S='\n            <div class="address-info">\n                <a href="#" data-address-set-main>сделать основным</a>\n            </div>',O='<span class="address-main" data-address-main>основной</span>',R=!1;t("[data-address-city]").off("keyup").on("keyup",(function(){var e=t(this),a=e.val(),i=e.closest("[data-city-parent]"),n=i.find("form"),s=n.find("[data-submit-address-form]"),o=n.serialize();n.find("[data-location-id]").val(""),R&&(clearTimeout(R),R=!1),a.length>3&&(s.attr("disabled",!0),R=setTimeout((function(){var a=e.data("ajax");a&&a.abort(),a=t.ajax({url:"/ajax/get_cities.php",method:"POST",dataType:"json",data:o}).done((function(t){var e=i.find("[data-list-city]");e.html("");for(var a=0;a<t.locations.length;a++){var n='\n                                <a\n                                    href="#"\n                                    class="location-item location-item link"\n                                    data-id="'.concat(t.locations[a].ID,'"\n                                    data-location="').concat(t.locations[a].NAME_RU,'"\n                                    title="').concat(t.locations[a].PATH,'"\n                                >\n                                    ').concat(t.locations[a].NAME_RU,"\n                                </a>");e.append(n)}x(),s.attr("disabled",!1)})),e.data("ajax",a)}),500))})),x(),t("[data-personal-address-form] input").on("input",(function(){t(this).next("label.error").hide()})),t("[data-personal-address-form]").on("submit",(function(e){e.preventDefault();var a=t(this),i=a.find("input[required]"),n=a.find("[data-submit-address-form]");n.attr("disabled",!0);var s=!0;if(i.each((function(e,a){(""===t(a).val().trim()||t(a).hasClass("ui-autocomplete-input")&&!t(a).hasClass("complete"))&&(t(a).next("label").show(),s=!1)})),a.find("[data-location-id]").length>0&&""===a.find("[data-location-id]").val()&&(a.find("[data-address-city]").next("label").show(),s=!1),!s)return n.attr("disabled",!1),!1;var o=a.attr("name"),d=a.attr("action"),r=a.serializeArray(),l=t('[data-component="CartView"]').length>0;BX.showWait(),t.ajax({type:"POST",url:d,data:r,dataType:"json",success:function(e){if("ok"===e.status){var i=t("[data-address-list]");if("personal-address-add"===o){var s=a.find("[data-location-id]").val(),d=a.find("[data-address-city]").val(),r=a.find("[data-address-street]").val(),c=a.find("[data-address-house]").val(),u=a.find("[data-address-flat]").val(),p="",f="";e.is_main?(f=l?O:j,i.find("[data-address-main]").length>0&&(l?i.find("[data-address-main]").remove():i.find("[data-address-main]").replaceWith(S))):l||(f=S);var h="";""!==u&&(h=", кв./оф. <span data-address-flat>".concat(u,"</span>")),p=l?'\n                                    <div class="CartItems__address" data-address-id="'.concat(e.id,'">\n                                        <div class="address">\n                                            <div class="city" data-location-id="').concat(s,'">').concat(d,'</div>\n                                \n                                            <div class="address-text" data-address-full>\n                                                <span data-address-street>').concat(r,"</span>,\n                                                д. <span data-address-house>").concat(c,"</span>\n                                                ").concat(h,"\n                                                ").concat(f,'\n                                            </div>\n                                        </div>\n                                        \n                                        <div class="address-info">\n                                            <a href="#" data-address-change>доставить сюда</a>\n                                        </div>\n \n                                        <div class="address-controls">\n                                            <a href="#popup-personal-address-update" data-popup="popup-personal-address-update" class="address-edit">\n                                                <svg class="icon edit" width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                    <path d="M4.22479 11.2107L14.4354 1.00011L17.2344 3.79907L7.02375 14.0097L2.39986 15.8346L4.22479 11.2107Z" stroke="black" stroke-width="0.8"/>\n                                                    <path d="M12.4766 3.51855L14.7157 5.75773" stroke="black" stroke-width="0.8"/>\n                                                    <path d="M4.78711 11.2063L5.90669 12.3259L7.02628 13.4455" stroke="black" stroke-width="0.8"/>\n                                                </svg>\n                                            </a>\n                                \n                                            <a href="#popup-personal-address-delete" data-popup="popup-personal-address-delete" class="address-delete">\n                                                <svg class="icon delete" width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.3674 2.25068H17.839C17.9439 2.25068 18.0444 2.2899 18.1186 2.35971C18.1927 2.42952 18.2344 2.52421 18.2344 2.62294C18.2344 2.72167 18.1927 2.81635 18.1186 2.88617C18.0444 2.95598 17.9439 2.9952 17.839 2.9952H15.4967V17.6273C15.4968 17.6763 15.4866 17.7248 15.4668 17.7701C15.4469 17.8153 15.4178 17.8565 15.381 17.8911C15.3442 17.9257 15.3005 17.9532 15.2525 17.9719C15.2044 17.9906 15.1529 18.0001 15.1008 18H2.58584C2.53382 18.0001 2.4823 17.9906 2.43422 17.9719C2.38614 17.9532 2.34245 17.9257 2.30567 17.8911C2.26889 17.8565 2.23974 17.8153 2.2199 17.7701C2.20005 17.7248 2.1899 17.6763 2.19002 17.6273V2.9952H0.629712C0.524862 2.9952 0.424306 2.95598 0.350166 2.88617C0.276026 2.81635 0.234375 2.72167 0.234375 2.62294C0.234375 2.52421 0.276026 2.42952 0.350166 2.35971C0.424306 2.2899 0.524862 2.25068 0.629712 2.25068H5.31925V0.372712C5.31925 0.16655 5.49613 0 5.71411 0H11.9726C12.1906 0 12.3674 0.16655 12.3674 0.372712V2.25068ZM11.5768 2.25068V0.744523H6.10897V2.25068H11.5777H11.5768ZM2.98165 2.9952V17.2555H14.7069V2.9952H2.98165ZM5.32021 5.24857C5.32021 5.19975 5.33042 5.1514 5.35027 5.10629C5.37011 5.06118 5.39919 5.02019 5.43586 4.98566C5.47253 4.95114 5.51606 4.92375 5.56396 4.90507C5.61187 4.88638 5.66321 4.87676 5.71507 4.87676C5.76692 4.87676 5.81827 4.88638 5.86617 4.90507C5.91408 4.92375 5.95761 4.95114 5.99427 4.98566C6.03094 5.02019 6.06003 5.06118 6.07987 5.10629C6.09971 5.1514 6.10993 5.19975 6.10993 5.24857V14.2513C6.10993 14.3001 6.09971 14.3484 6.07987 14.3936C6.06003 14.4387 6.03094 14.4797 5.99427 14.5142C5.95761 14.5487 5.91408 14.5761 5.86617 14.5948C5.81827 14.6135 5.76692 14.6231 5.71507 14.6231C5.66321 14.6231 5.61187 14.6135 5.56396 14.5948C5.51606 14.5761 5.47253 14.5487 5.43586 14.5142C5.39919 14.4797 5.37011 14.4387 5.35027 14.3936C5.33042 14.3484 5.32021 14.3001 5.32021 14.2513V5.24857ZM8.44944 5.24857C8.44944 5.14996 8.49104 5.05539 8.56509 4.98566C8.63914 4.91594 8.73957 4.87676 8.8443 4.87676C8.94902 4.87676 9.04945 4.91594 9.1235 4.98566C9.19755 5.05539 9.23916 5.14996 9.23916 5.24857V14.2513C9.23916 14.3499 9.19755 14.4445 9.1235 14.5142C9.04945 14.5839 8.94902 14.6231 8.8443 14.6231C8.73957 14.6231 8.63914 14.5839 8.56509 14.5142C8.49104 14.4445 8.44944 14.3499 8.44944 14.2513V5.24857ZM11.5777 5.24857C11.5777 5.14984 11.6194 5.05516 11.6935 4.98535C11.7676 4.91553 11.8682 4.87631 11.973 4.87631C12.0779 4.87631 12.1785 4.91553 12.2526 4.98535C12.3267 5.05516 12.3684 5.14984 12.3684 5.24857V14.2513C12.3684 14.35 12.3267 14.4447 12.2526 14.5145C12.1785 14.5843 12.0779 14.6235 11.973 14.6235C11.8682 14.6235 11.7676 14.5843 11.6935 14.5145C11.6194 14.4447 11.5777 14.35 11.5777 14.2513V5.24857Z" fill="black"/>\n                                                </svg>\n                                            </a>\n                                        </div>\n                                    </div>'):'\n                                    <div class="SnowBox SnowBox--1-column SnowBox--Address" data-address-id="'.concat(e.id,'">\n                                        <header>\n                                            <div class="SnowBox__Wrapper">\n                                                <p>\n                                                    <strong data-location-id="').concat(s,'">').concat(d,"</strong>\n                                                </p>\n                                            </div>\n                                            ").concat(f,'\n                                        </header>\n                                        \n                                        <section>\n                                            <div class="address" data-address-full>\n                                                <span data-address-street>').concat(r,"</span>,\n                                                д. <span data-address-house>").concat(c,"</span>\n                                                ").concat(h,'\n                                            </div>\n                    \n                                            <div class="address-controls">\n                                                <a href="#popup-personal-address-update" data-popup="popup-personal-address-update" class="Button">Изменить</a>\n                                                <a href="#popup-personal-address-delete" data-popup="popup-personal-address-delete" class="Button Button--light">Удалить</a>\n                                            </div>\n                                        </section>\n                                    </div>'),l?i.append(p):i.find("div").last().before(p),i.find('[data-address-id="'+e.id+'"]').find("[data-popup]").each((function(){initPopup(t(this))})),l&&1===i.find("[data-address-id]").length&&"function"==typeof setPersonalAddressActive&&(t(".error-address").hide(),setPersonalAddressActive(e.id))}if("personal-address-update"===o){var v=i.find('[data-address-id="'+e.id+'"]');if(v.find("[data-location-id]").data("location-id",e.params.UF_LOCATION),v.find("[data-location-id]").text(e.city),v.find("[data-address-street]").text(e.params.UF_STREET),v.find("[data-address-house]").text(e.params.UF_BUILDING),e.params.UF_FLAT)v.find("[data-address-flat]").length?v.find("[data-address-flat]").text(e.params.UF_FLAT):v.find("[data-address-house]").after(", кв./оф. <span data-address-flat>".concat(e.params.UF_FLAT,"</span>"));else{v.find("[data-address-flat]").remove();var m=v.find("[data-address-full]").html();m=m.replace(", кв./оф.",""),v.find("[data-address-full]").html(m)}if(l){var g=v.find("[data-address-main]").length>0;if(!g&&e.is_main&&(i.find("[data-address-main]").remove(),v.find("[data-address-full]").append(O)),g&&!e.is_main){var w=i.find("[data-address-id]").first();i.find("[data-address-main]").remove(),w.find("[data-address-full]").append(O)}v.hasClass("CartItems__address--active")&&"function"==typeof setPersonalAddressActive&&setPersonalAddressActive(v.data("address-id"))}}if("personal-address-delete"===o){var _=i.find('[data-address-id="'+e.id+'"]'),C=_.find("[data-address-main]").length>0;if(_.removeAttr("data-address-id"),_.addClass("hidden"),l){var b=_.hasClass("CartItems__address--active"),y=i.find("[data-address-id]").first();if(y.length)C&&y.find("[data-address-city]").after(O),b&&"function"==typeof setPersonalAddressActive&&setPersonalAddressActive(y.data("address-id"));else{var k=t('[data-component="CartView"]');k.find("[data-input-personal-address-street]").val(""),k.find("[data-input-personal-address-building]").val(""),k.find("[data-input-personal-address-flat]").val(""),k.find(".CartItems__city").removeClass("hidden"),k.find('[data-tab-delivery="2"]').html('\n                                        <div class="CartRow">\n                                            <div\n                                                class="form-group floatl col3"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="STREET"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_23">\n                                                    Улица:<span class="starrequired">*</span>\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Улица"\n                                                    id="ORDER_PROP_23"\n                                                    name="ORDER_PROP_23"\n                                                    class="floatl__input"\n                                                    value=""\n                                                    data-street>\n                                            </div>\n                                            \n                                            <div\n                                                class="form-group floatl col1"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="BUILDING"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_24">\n                                                    Дом:<span class="starrequired">*</span>\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Дом"\n                                                    id="ORDER_PROP_24"\n                                                    name="ORDER_PROP_24"\n                                                    class="floatl__input"\n                                                    value=""\n                                                    data-house>\n                                            </div>\n                                            \n                                            <div\n                                                class="form-group floatl col2"\n                                                data-component="FloatingLabel"\n                                                data-hint=""\n                                                data-code="FLAT"\n                                            >\n                                                <label class="floatl__label" for="ORDER_PROP_25">\n                                                    Квартира:\n                                                </label>\n    \n                                                <span class="input-icon">\n                                                    <svg class="icon check-mark" aria-hidden="true" height="20" width="20">\n                                                        <use xlink:href="/local/frontend/build/assets/images/required/sprite2.svg#check-mark"></use>\n                                                    </svg>\n                                                </span>\n    \n                                                <input\n                                                    type="text"\n                                                    placeholder="Квартира"\n                                                    id="ORDER_PROP_25"\n                                                    name="ORDER_PROP_25"\n                                                    class="floatl__input"\n                                                    value="">\n                                            </div>\n                                        </div>'),initAutocompleteStreet(k.find('[data-tab-delivery="2"]').find("[data-street]")),initAutocompleteHouse(k.find('[data-tab-delivery="2"]').find("[data-house]"))}}else C&&(_.find("[data-address-main]").remove(),e.main_id&&i.find('[data-address-id="'+e.main_id+'"]').find("[data-address-set-main]").replaceWith(j))}t.magnificPopup.close()}else console.log(e.message),t(".modal__address-inputs-error").show().text(e.message);BX.closeWait(),setTimeout((function(){return n.attr("disabled",!1)}),700)}})})),t(document).on("click","[data-address-set-main]",(function(e){e.preventDefault();var a=t("[data-address-list]"),i=t(this).closest("[data-address-id]");BX.showWait(),t.ajax({url:"/ajax/personal_address.php",method:"POST",dataType:"json",data:{action:"main",id:i.data("address-id")}}).done((function(t){"ok"===t.status&&(a.find("[data-address-main]").replaceWith(S),i.find("[data-address-set-main]").replaceWith(j)),BX.closeWait()}))}))}if(t(document).on("click",'[data-tab-delivery="2"]',(function(){if(t(this).find("input:disabled").length){var e=t("[data-city-name]");e.addClass("danger"),setTimeout((function(){e.removeClass("danger")}),1e3)}})),t("[data-street], [data-address-street]").each((function(){initAutocompleteStreet(t(this))})),t("[data-house], [data-address-house]").each((function(){initAutocompleteHouse(t(this))})),t(".findinstore-vex-modal [data-target-panel]").on("click",(function(e){var a=t(".findinstore-vex-modal [data-tab-panel].active"),i=t("#".concat(t(e.target).data("target-panel")));a.removeClass("fade"),i.addClass("fade"),setTimeout((function(){a.removeClass("active"),i.addClass("active")}),300)})),t(".js-validate-birth").length>0){var E=[];t(".js-validate-birth").each((function(e){E[e]=new y.a(t(this)),E[e].createEventListeners()}))}t(".NavigationLocator").on("click",(function(t){t.preventDefault(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"store_address"}),window.location.href="/about/shops/"})),t(".FooterMain__Kisses__App a").on("click",(function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DlEvent",eventCategory:"kiko",eventAction:"button_click",eventLabel:"app_store_google_play"})})),t("[data-btn-yes]").on("click",(function(){t(".popup-your-city").remove();var e=new Date;e.setDate(e.getDate()+30),document.cookie="popupYourCityShowed=Y;expires="+e.toGMTString()+";path=/"})),t("[data-btn-no]").on("click",(function(){t(".popup-your-city").remove();var e=new Date;e.setDate(e.getDate()+30),document.cookie="popupYourCityShowed=Y;expires="+e.toGMTString()+";path=/"})),setTimeout((function(){t(".popup-your-city").removeClass("close")}),3e3)})),window.initPopup=function(e){e.magnificPopup({type:"inline",midClick:!0,closeMarkup:'<button title="%title%" type="button" class="vex-close mfp-close popup__close"></button>',removalDelay:500,alignTop:!0,callbacks:{beforeOpen:function(){x=window.scrollY;var a=t(e.attr("href"));if(this.st.mainClass="mfp-zoom-in vex",t("html").addClass("vex-open"),"ChooseCountryLayer"==e.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex ChooseCountryLayer"),"ChooseCity"==e.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex ChooseCity"),"video"==e.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex VideoModal"),"gift"==e.attr("data-popup")&&(this.st.mainClass="mfp-zoom-in vex mfp-center mfp-gift"),"popup-personal-address-add"===e.data("popup")&&(a.find("[data-address-city]").val(""),a.find("[data-address-street]").val(""),a.find("[data-address-house]").val(""),a.find("[data-address-flat]").val(""),a.find("[data-address-main]").prop("checked",!1),a.find(".floatl--active").removeClass("floatl--active"),a.find(".error").hide()),"popup-personal-address-update"===e.data("popup")){var i=e.closest("[data-address-id]"),n=i.find("[data-address-main]").length>0;a.find("[data-address-id]").val(i.data("address-id")),a.find("[data-location-id]").val(i.find("[data-location-id]").data("location-id")),a.find("[data-address-city]").val(i.find("[data-location-id]").text()),a.find("[data-address-street]").val(i.find("[data-address-street]").text()),a.find("[data-address-house]").val(i.find("[data-address-house]").text()),a.find("[data-address-flat]").val(i.find("[data-address-flat]").text()),a.find("[data-address-main]").prop("checked",!1),n&&a.find("[data-address-main]").prop("checked",!0),a.find(".floatl--active").removeClass("floatl--active"),a.find(".error").hide()}if("popup-personal-address-delete"===e.data("popup")){var s=e.closest("[data-address-id]");a.find("[data-address-id]").val(s.data("address-id")),a.find("[data-address-city]").text(s.find("[data-location-id]").text()),a.find("[data-address-full]").text(s.find("[data-address-full]").text())}if("select-date-popup"===e.data("popup")){var o=a.find(".select-times__items"),d=t('input[name="ORDER_PROP_date"]').val();o.html(""),window.JS_OBJ&&window.JS_OBJ.deliveryTime&&window.JS_OBJ.deliveryTime.forEach((function(t,e){var a=t.date.text===d?"checked":"";o.append('\n                                <div class="select-times__item">\n                                    <label>\n                                        <input type="radio" name="day" value="'.concat(t.date.value,'" ').concat(a,'>\n                                        <span class="pseudo-radio"></span>\n                                        <span class="select-times__value">\n                                            ').concat(t.date.text,"\n                                        </span>\n                                    </label>\n                                </div>"))}))}if("select-time-popup"===e.data("popup")){var r=a.find(".select-times__items"),l=t('input[name="ORDER_PROP_time"]').val();if(r.html(""),window.JS_OBJ&&window.JS_OBJ.deliveryTime){var c=0;t("#select-date-popup").find("input").each((function(){if(t(this).is(":checked"))return!1;c++})),window.JS_OBJ.deliveryTime[c].time.forEach((function(t,e){var a=t.text===l?"checked":"";r.append('\n                                <div class="select-times__item">\n                                    <label>\n                                        <input type="radio" name="time" value="'.concat(t.value,'" ').concat(a,'>\n                                        <span class="pseudo-radio"></span>\n                                        <span class="select-times__value">\n                                            ').concat(t.text,"\n                                        </span>\n                                    </label>\n                                </div>"))}))}}},open:function(){if("ChooseCountryLayer"==e.attr("data-popup")&&(t(".ChooseCountryLayer").find(".vex-content").css({top:"23px"}),t("body").addClass("with-bottom-bar")),"ChooseCity"==e.attr("data-popup")&&(t(".ChooseCity").find(".vex-content").removeAttr("style"),t("body").addClass("with-bottom-bar")),"video"==e.attr("data-popup")){var a=e.attr("href"),i=t(a).find("[data-video]").attr("id");0==t(a).find(".plyr").length&&(k=new _.a("#".concat(i),{controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"]})),k.play()}"select-date-popup"!==e.data("popup")&&"select-time-popup"!==e.data("popup")||t(".mfp-content").addClass("mfp-select-time")},close:function(){t("html").removeClass("vex-open"),window.scrollTo(0,x),"ChooseCountryLayer"==e.attr("data-popup")&&t("body").removeClass("with-bottom-bar"),"ChooseCity"==e.attr("data-popup")&&t("body").removeClass("with-bottom-bar"),"video"==e.attr("data-popup")&&k.pause()},afterClose:function(){"popup-personal-address-delete"===e.data("popup")&&e.blur()}}})};var O=function e(a){t(a.target).removeClass("complete"),t(a.target).off("input",e)};window.initAutocompleteStreet=function(e){var a;e.autocomplete({source:function(e,i){var n=t(this.element),s=t("[data-city-name]").first().text();n.is("[data-address-street]")&&(s=n.closest("[data-personal-address-form]").find("[data-address-city]").val());var o=e.term;if(!(o.length<3)){var d={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+S},body:JSON.stringify({query:"".concat(s," ").concat(o)})};fetch(j,d).then((function(t){return t.text()})).then((function(e){a=JSON.parse(e).suggestions.filter((function(t){return t.data.street})).map((function(t){return{sreetId:t.data.street_fias_id||null,street:(e=t.data,a=e.settlement_with_type?"".concat(e.settlement_with_type,", "):"",i=e.area_with_type?"".concat(e.area_with_type,", "):"","".concat(a).concat(i).concat(e.street_type_full," ").concat(e.street).trim()||"")};var e,a,i})).filter((function(t,e,a){return a.findIndex((function(e){return e.sreetId===t.sreetId}))===e})),i(a.map((function(t){return t.street}))),t(".Cart__Bottom").css("display","none")})).catch((function(t){return console.log("error",t)}))}},select:function(e){t(e.target).addClass("complete"),t(e.target).trigger("keyup").trigger("change"),t(e.target).on("input",O)},close:function(e){var i=t(e.target).val().toLowerCase().trim(),n=a.find((function(t){return t.street.toLowerCase().includes(i)})).street||a.find((function(t){return i.split(" ").some((function(e){return t.street.toLowerCase().includes(e)}))})).street;n&&i&&(t(e.target).val(n),t(e.target).addClass("complete"),t(e.target).trigger("keyup").trigger("change"),t(e.target).on("input",O)),t(".Cart__Bottom").css("display","")}})};window.initAutocompleteHouse=function(e){var a;e.autocomplete({source:function(e,i){var n=t(this.element),s=t("[data-city-name]").first().text(),o=t("[data-street]").val();n.is("[data-address-house]")&&(s=n.closest("[data-personal-address-form]").find("[data-address-city]").val(),o=n.closest("[data-personal-address-form]").find("[data-address-street]").val()),n.removeClass("found");var d=e.term.trim();n[d?"addClass":"removeClass"]("complete");var r={method:"POST",mode:"cors",count:7,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+S},body:JSON.stringify({query:"".concat(s," ").concat(o," ").concat(d)})};fetch(j,r).then((function(t){return t.text()})).then((function(e){a=JSON.parse(e).suggestions.map((function(t){return function(t){if(!t.house_fias_id)return"";var e=t.house?"".concat(t.house," "):"",a=t.block_type?"".concat(t.block_type," "):"",i=t.block?"".concat(t.block," "):"";return"".concat(e).concat(a).concat(i).trim()}(t.data)})).filter((function(t,e,a){return a.indexOf(t)===e})),i(a),t(".Cart__Bottom").css("display","none")})).catch((function(t){return console.log("error",t)}))},select:function(e){t(e.target).addClass("found"),t(e.target).trigger("keyup").trigger("change"),t(e.target).on("input",O)},close:function(e){var i=t(e.target).val();a.includes(i)&&(t(e.target).addClass("found"),t(e.target).trigger("keyup").trigger("change"),t(e.target).on("input",O)),t(".Cart__Bottom").css("display","")}})},window.initCatalogFilterSlider=function(){var e=document.querySelector(".catalog-product_smart-filter__price-slider");if(e){var a=+e.dataset.min,i=+e.dataset.max,n=+e.dataset.currentMin,s=+e.dataset.currentMax;b.a.create(e,{range:{min:a,max:i},step:1,start:[n,s]}),e.noUiSlider.on("slide",(function(e){t(".catalog-product_smart-filter__price-slider__min-price").val(parseInt(e[0])),t(".catalog-product_smart-filter__price-slider__max-price").val(parseInt(e[1]))})),e.noUiSlider.on("set",(function(){window.smartFilterObj&&window.smartFilterObj.applyFilter()})),t(".catalog-product_smart-filter__price-slider__min-price").on("change",(function(t){var i=parseInt(t.target.value);i||(t.target.value=parseInt(e.noUiSlider.get()[0]),i=parseInt(e.noUiSlider.get()[0])),i<a&&(t.target.value=a,i=a),t.target.value=i,e.noUiSlider.set([i,null])})),t(".catalog-product_smart-filter__price-slider__max-price").on("change",(function(t){var a=parseInt(t.target.value);a||(t.target.value=parseInt(e.noUiSlider.get()[1]),a=parseInt(e.noUiSlider.get()[1])),a>i&&(t.target.value=i,a=i),t.target.value=a,e.noUiSlider.set([null,a])}))}},document.addEventListener("input",(function(t){var e=t.target;e.classList.contains("js-fit-text-area")&&(e.style.height="",e.style.height=t.target.scrollHeight+3+"px")}))}.call(this,a(1),a(6))},37:function(t,e,a){var i=a(7),n=a(38);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);t.exports=n.locals||{}},38:function(t,e,a){},39:function(t,e,a){var i=a(7),n=a(40);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);t.exports=n.locals||{}},40:function(t,e,a){},41:function(t,e,a){"use strict"},42:function(t,e,a){"use strict";(function(t){var e=a(23),i=a.n(e),n=a(24),s=a.n(n);function o(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.reviewBar=t(".ReviewBar"),this.toggler=t(".ReviewBar__Toggler"),this.cancelBtn=t(".ReviewBar__cancel"),this.offerId=t(".ReviewBar__cancel").data("offer"),this.initialize()}var a,n,d;return a=e,(n=[{key:"initialize",value:function(){var t=this;this.toggler.click((function(){t.reviewBar.toggleClass("ReviewBar--opened")})),this.cancelBtn.click((function(){var e={offerId:t.offerId};i.a.post("/ajax/reviews.php",s.a.stringify(e)).then((function(e){t.reviewBar.addClass("hidden")}))}))}}])&&o(a.prototype,n),d&&o(a,d),e}())}).call(this,a(1))},62:function(t,e,a){"use strict";(function(t){function e(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function a(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.footer=t(e),this.title=this.footer.find("[data-footer-accordion-title]"),this.wrapper=this.footer.find("[data-footer-accordion-wrapper]")}var i,n,s;return i=a,(n=[{key:"initialize",value:function(){var e=this;this.title.on("click",(function(a){var i=t(this),n=i.next("[data-footer-accordion-content]"),s=t("[data-footer-accordion-content]"),o=e.title,d=e.wrapper,r=i.closest("[data-footer-accordion-wrapper]"),l=-1;o.css("border-bottom","1px solid #DFDFDF"),o.each((function(t,e){i[0]===e&&(l=t-1)})),l>=0&&t(o[l]).css("border-bottom","none"),i.hasClass("active")?setTimeout((function(){r.toggleClass("toggled"),i.toggleClass("active"),o.css("border-bottom","1px solid #DFDFDF")}),150):(o.removeClass("active"),d.removeClass("toggled"),s.hide(),r.toggleClass("toggled"),i.toggleClass("active")),n.slideToggle("fast"),a.preventDefault()}))}}])&&e(i.prototype,n),s&&e(i,s),a}();document.addEventListener("DOMContentLoaded",(function(e){t("[data-footer-accordion]").length>0&&new a(t("[data-footer-accordion]")).initialize()}))}).call(this,a(1))}});